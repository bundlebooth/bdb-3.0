<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>PlanHive - Event Booking Platform</title>
    <link rel="icon" type="image/svg+xml" href="planhive_fav_icon.svg">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <!-- Google Fonts - Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Google Maps API with Places API (New) -->
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCPhhp2rAt1VTrIzjgagJXZPZ_nc7K_BVo&libraries=places,geometry,marker&callback=initMap&v=weekly"></script>
    <!-- MarkerClusterer for Google Maps markers clustering -->
    <script src="https://unpkg.com/@googlemaps/markerclusterer/dist/index.min.js"></script>
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    <!-- Add Stripe.js for payment processing -->
    <script src="https://js.stripe.com/v3/"></script>
    <!-- Add FullCalendar for booking dates -->
    <link href='https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.css' rel='stylesheet' />
    <script src='https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.js'></script>
    <!-- Flatpickr for modern date picker -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr@4.6.13/dist/flatpickr.min.css">
    <script src="https://cdn.jsdelivr.net/npm/flatpickr@4.6.13/dist/flatpickr.min.js"></script>
    <!-- Add Socket.IO for chat functionality -->
    <script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>
    <!-- Add Chart.js for analytics graphs -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Invoice PDF libs -->
    <script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Add Select2 for enhanced dropdowns -->
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
    <!-- Google Places API will be loaded dynamically with API key from backend -->
    <link rel="stylesheet" href="index_mobile-styles.css?v=1">
</head>
<body data-new-gr-c-s-check-loaded="8.932.0" data-gr-ext-installed="" style="overflow: auto;">
    <!-- App Loading Overlay -->
    <div id="app-loading-overlay">
        <div class="loading-logo">
            <img src="planhive_logo.svg" alt="PlanHive" style="height: 60px; width: auto;">
        </div>
        <div class="loading-spinner"></div>
    </div>

    <!-- Main App View -->
    <header class="header">
        <div class="logo" style="cursor: pointer;">
            <img src="planhive_logo.svg" alt="PlanHive" style="height: 50px; width: auto;">
        </div>

        <div class="search-container">
        <div class="search-bar" style="position: relative; display: flex; align-items: center;">
            <input type="text" placeholder="Search for event vendors..." id="search-input" style="flex-grow: 1; padding-left: 1rem; padding-right: 2.5rem;">
            <button id="search-button" style="position: absolute; right: 0.5rem; background: none; border: none; cursor: pointer; color: var(--primary); font-size: 1.25rem;">
                <i class="fas fa-magnifying-glass"></i>
            </button>
        </div>
        </div>

        <div class="user-nav">
            <!-- DECOMMISSIONED: Old Book Now button - replaced with vendor-specific booking flow -->
            <!-- <button class="btn btn-primary" id="book-now-btn" onclick="openBookingModal()" style="margin-right: 1rem; padding: 0.75rem 1.5rem; font-weight: 600;">
                <i class="fas fa-calendar" style="margin-right: 0.5rem;"></i>Book Now
            </button> -->
            <div class="nav-icon" id="wishlist-btn">
                <i class="fas fa-heart"></i>
                <span class="badge" id="favorites-badge">0</span>
            </div>
            <div class="nav-icon" id="chat-btn" title="Chat">
                <i class="fas fa-comments"></i>
                <span class="badge" id="messages-badge">0</span>
            </div>
            <div class="nav-icon" id="notifications-btn">
                <i class="fas fa-bell"></i>
                <span class="badge" id="notifications-badge">0</span>
            </div>
            <div class="nav-icon" id="profile-btn" style="background-color: var(--primary); color: white; border-radius: 50%; width: 36px; height: 36px; display: flex; align-items: center; justify-content: center;">S</div>
        </div>
    </header>


    <div class="app-container" id="app-container" style="display: grid;">
        <!-- Categories Navigation -->
        <nav class="categories-nav">
            <button class="nav-scroll-btn left" id="scroll-left">◀</button>
            <div class="categories-list-wrapper">
                <div class="categories-list" id="categories-list"><div class="category-item active" data-category="all"><i class="fas fa-layer-group"></i><span>All Categories</span></div><div class="category-item" data-category="venue"><i class="fas fa-building"></i><span>Venues</span></div><div class="category-item" data-category="photo"><i class="fas fa-camera"></i><span>Photo/Video</span></div><div class="category-item" data-category="music"><i class="fas fa-music"></i><span>Music/DJ</span></div><div class="category-item" data-category="catering"><i class="fas fa-utensils"></i><span>Catering</span></div><div class="category-item" data-category="entertainment"><i class="fas fa-theater-masks"></i><span>Entertainment</span></div><div class="category-item" data-category="experiences"><i class="fas fa-star"></i><span>Experiences</span></div><div class="category-item" data-category="decor"><i class="fas fa-ribbon"></i><span>Decorations</span></div><div class="category-item" data-category="beauty"><i class="fas fa-spa"></i><span>Beauty</span></div><div class="category-item" data-category="cake"><i class="fas fa-birthday-cake"></i><span>Cake</span></div><div class="category-item" data-category="transport"><i class="fas fa-shuttle-van"></i><span>Transportation</span></div><div class="category-item" data-category="planner"><i class="fas fa-clipboard-list"></i><span>Planners</span></div><div class="category-item" data-category="fashion"><i class="fas fa-tshirt"></i><span>Fashion</span></div><div class="category-item" data-category="stationery"><i class="fas fa-envelope"></i><span>Stationery</span></div></div>
                <div class="category-indicator" id="category-indicator"></div>
            </div>
            <button class="nav-scroll-btn right" id="scroll-right">▶</button>
        </nav>

        <aside class="sidebar">
            <div class="filter-section">
                <h3 class="filter-title">
                    Location
                    <span class="filter-reset" id="location-reset">Reset</span>
                </h3>
                <input type="text" placeholder="City or ZIP code" class="search-input" id="location-input" style="width: 100%; padding: 0.75rem; border: 1px solid var(--border); border-radius: var(--radius); margin-bottom: 1rem;">
                <div class="filter-group">
                    <div class="filter-option">
                        <input type="checkbox" id="current-location">
                        <label for="current-location">Use my location</label>
                    </div>
                    <div class="filter-option">
                        <input type="checkbox" id="within50">
                        <label for="within50">Within 50 miles</label>
                    </div>
                </div>
            </div>

            <div class="filter-section">
                <h3 class="filter-title">
                    Price Range
                    <span class="filter-reset" id="price-reset">Reset</span>
                </h3>
                <select class="form-control" id="price-level-filter" style="width: 100%; padding: 0.75rem; border: 1px solid var(--border); border-radius: var(--radius); background-color: white;">
                    <option value="">All Price Ranges</option>
                    <option value="$">$ - Inexpensive</option>
                    <option value="$$">$$ - Moderate</option>
                    <option value="$$$">$$$ - Expensive</option>
                    <option value="$$$$">$$$$ - Luxury</option>
                </select>
            </div>

            <div class="filter-section">
                <h3 class="filter-title">
                    Minimum Rating
                    <span class="filter-reset" id="rating-reset">Reset</span>
                </h3>
                <select class="form-control" id="rating-filter" style="width: 100%; padding: 0.75rem; border: 1px solid var(--border); border-radius: var(--radius); background-color: white;">
                    <option value="">All Ratings</option>
                    <option value="4">&#9733;&#9733;&#9733;&#9733; 4+ Stars</option>
                    <option value="3">&#9733;&#9733;&#9733; 3+ Stars</option>
                    <option value="2">&#9733;&#9733; 2+ Stars</option>
                    <option value="1">&#9733; 1+ Star</option>
                </select>
            </div>

            <div class="filter-section">
                <h3 class="filter-title">Region</h3>
                <select class="region-select" id="region-select">
                    <option value="">All Regions</option>
                    <option value="north">Northern Region</option>
                    <option value="south">Southern Region</option>
                    <option value="east">Eastern Region</option>
                    <option value="west">Western Region</option>
                    <option value="central">Central Region</option>
                </select>
            </div>

            <div class="trending-section">
                <h3 class="filter-title">Popular Filters</h3>
                <div class="trending-tags">
                    <div class="trending-tag" data-filter="premium"><i class="fas fa-crown" style="color: #FFD700; margin-right: 6px;"></i>Premium</div>
                    <div class="trending-tag" data-filter="eco-friendly"><i class="fas fa-leaf" style="color: #22c55e; margin-right: 6px;"></i>Eco-Friendly</div>
                    <div class="trending-tag" data-filter="award-winning"><i class="fas fa-trophy" style="color: #f59e0b; margin-right: 6px;"></i>Award Winning</div>
                    <div class="trending-tag" data-filter="last-minute"><i class="fas fa-bolt" style="color: #3b82f6; margin-right: 6px;"></i>Last Minute</div>
                    <div class="trending-tag" data-filter="certified"><i class="fas fa-award" style="color: #8b5cf6; margin-right: 6px;"></i>Certified</div>
                    <div class="trending-tag" data-filter="insured"><i class="fas fa-shield-alt" style="color: #10b981; margin-right: 6px;"></i>Insured</div>
                    <div class="trending-tag" data-filter="local"><i class="fas fa-map-marker-alt" style="color: #ef4444; margin-right: 6px;"></i>Local</div>
                    <div class="trending-tag" data-filter="mobile"><i class="fas fa-wheelchair" style="color: #06b6d4; margin-right: 6px;"></i>Accessible</div>
                </div>
            </div>

        </aside>

        <main class="main-content">
            <div class="content-header">
                <div>
                    <h1 class="results-title" id="results-title">
                        <div class="skeleton-line" style="height: 32px; width: 280px; border-radius: 8px;"></div>
                    </h1>
                    <p class="results-count" id="results-count">
                        <div class="skeleton-line" style="height: 16px; width: 150px; border-radius: 6px; margin-top: 8px;"></div>
                    </p>
                </div>

                <div class="view-controls">
                    <button id="mobile-filter-btn" class="mobile-filter-btn">
                        <i class="fas fa-sliders-h"></i>
                        <span>Filters</span>
                    </button>
                    <button id="filters-toggle" class="btn btn-outline" style="display:flex;align-items:center;gap:.5rem;">
                        <i class="fas fa-sliders-h"></i>
                        <span>Filters</span>
                    </button>
                    <select id="sort-select" style="padding: 0.5rem 1rem; border-radius: 8px; border: 1px solid var(--border); background-color: white; font-size: 0.9rem; color: var(--text);">
                        <option value="recommended">Recommended</option>
                        <option value="price-low">Price: Low to High</option>
                        <option value="price-high">Price: High to Low</option>
                        <option value="nearest">Nearest to Me</option>
                        <option value="rating">Highest Rated</option>
                    </select>
                    <button id="map-toggle" class="btn btn-outline" style="display:flex;align-items:center;gap:.5rem;">
                        <i class="fas fa-map-marked-alt"></i>
                        <span id="map-toggle-text">Show Map</span>
                    </button>
                    <!-- View toggle hidden - map always visible in Giggster-style layout -->
                    <div class="view-toggle" id="legacy-view-toggle" style="display: none;"></div>
                </div>
            </div>

            
            <!-- Trending Vendors Section - Main Page -->
            <div id="trending-vendors-section-main" style="display: none; margin-bottom: 2rem;">
                <div style="background: #ffffff; border: 1px solid #e2e8f0; border-radius: 12px; padding: 1.5rem;">
                    <h3 id="trending-header-main" style="color: #1a202c; display: none; align-items: center; gap: 0.5rem; margin: 0 0 1.5rem 0; font-size: 1.25rem; font-weight: 700;">
                        <i class="fas fa-fire" style="color: #ff6b6b;"></i>
                        Trending Right Now
                        <span style="font-size: 0.875rem; color: #64748b; font-weight: 400; margin-left: auto;">Most Viewed This Month</span>
                    </h3>
                    <div id="trending-vendors-carousel-wrapper-main" style="position: relative;">
                        <button class="trending-carousel-nav trending-carousel-prev" id="trending-prev-main" aria-label="Previous vendor">
                            <i class="fas fa-chevron-left"></i>
                        </button>
                        <button class="trending-carousel-nav trending-carousel-next" id="trending-next-main" aria-label="Next vendor">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                        <div id="trending-vendors-carousel-main" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(240px, 1fr)); gap: 1.25rem;" data-skeleton="1">
                            <!-- Trending skeleton cards will be injected here on page load -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Map overlay -->
            <div class="map-overlay" id="map-overlay"></div>

            <div class="vendor-grid skeleton-active" id="vendor-grid" data-skeleton="1">
                <!-- Initial skeleton cards will be injected here -->
            </div>
            <!-- Horizontal cards container (used only in Map view) -->
            <div id="main-horizontal-cards" class="vendor-horizontal-container" style="display:none;"></div>
            <!-- Load more button inside scrollable area -->
            <div id="load-more-wrapper" style="display:none; justify-content:center; align-items:center; margin: 3rem 0 2rem 0;">
                <button class="btn" id="load-more-btn" style="
                    background-color: #5e72e4;
                    color: white;
                    border: none;
                    padding: 0.875rem 2.5rem;
                    font-size: 1rem;
                    font-weight: 500;
                    border-radius: 8px;
                    cursor: pointer;
                    transition: all 0.2s ease;
                    box-shadow: 0 2px 8px rgba(94, 114, 228, 0.2);
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    gap: 0.5rem;
                    min-width: 140px;
                " onmouseover="if(!this.disabled){this.style.backgroundColor='#4a5acf'; this.style.boxShadow='0 4px 12px rgba(94, 114, 228, 0.3)'; this.style.transform='translateY(-1px)'}" onmouseout="if(!this.disabled){this.style.backgroundColor='#5e72e4'; this.style.boxShadow='0 2px 8px rgba(94, 114, 228, 0.2)'; this.style.transform='translateY(0)'}">
                    <div class="spinner" id="load-more-spinner" style="display:none; width: 20px; height: 20px; border-width: 2px;"></div>
                    <span id="load-more-text">Load More</span>
                    <i class="fas fa-chevron-down"></i>
                </button>
            </div>
        </main>

        <!-- Map Sidebar - Same level as filter sidebar -->
        <aside class="map-sidebar" id="map-sidebar">
            <div class="map-sidebar-content">
                <div id="map-view" style="width: 100%; height: 100%;"></div>
            </div>
        </aside>
    </div>


    <!-- Dashboard Modal -->
    <div id="dashboard-modal" class="modal" data-no-outside-close style="display: none;">
        <div class="modal-content" style="max-width: 95%; width: 1200px; height: 90vh; display: flex; flex-direction: column;">
            <div class="modal-header">
                <h3 id="dashboard-modal-title">Dashboard</h3>
                <!-- Mode toggle removed per request -->
                <span class="close-modal">×</span>
            </div>
            <div class="modal-body" style="padding: 0; overflow: hidden; flex-grow: 1;">
                <!-- Client Dashboard -->
                <div class="dashboard-container" id="dashboard-container" style="display: none; height: 100%;">
                    <aside class="dashboard-sidebar">
                        <div class="logo" style="padding: 1rem 0; border-bottom: 1px solid var(--border); display: flex; align-items: center; justify-content: center;">
                            <img src="planhive_logo.svg" alt="PlanHive" style="height: 40px; width: auto;">
                        </div>
                        <ul class="dashboard-menu">
                            <li><a href="#" class="active" data-section="dashboard"><i class="fas fa-tachometer-alt"></i>Dashboard</a></li>
                            <li><a href="#" data-section="bookings"><i class="fas fa-calendar-check"></i>Bookings</a></li>
                            <li><a href="#" data-section="invoices"><i class="fas fa-file-invoice"></i>Invoices</a></li>
                            <!-- Requests merged into Bookings; hide legacy link -->
                            <li style="display:none;"><a href="#" data-section="requests">My Requests</a></li>
                            <li><a href="#" data-section="favorites"><i class="fas fa-heart"></i>Favorites</a></li>
                            <li><a href="#" data-section="messages"><i class="fas fa-comments"></i>Messages</a></li>
                            <li><a href="#" data-section="reviews"><i class="fas fa-star"></i>My Reviews</a></li>
                            <li><a href="#" data-section="settings"><i class="fas fa-cog"></i>Settings</a></li>
                            <li><a href="#" id="logout-dashboard"><i class="fas fa-sign-out-alt"></i>Log Out</a></li>
                        </ul>
                    </aside>
                    <main class="dashboard-content" style="overflow-y: auto;">
                        <div class="dashboard-header">
                            <h1 class="dashboard-title" id="dashboard-title">Dashboard</h1>
                            <div class="user-nav">
                                <div class="nav-icon" id="dashboard-notifications-btn" style="display: none;">
                                    <i class="fas fa-bell"></i>
                                    <span class="badge" id="dashboard-notifications-badge">0</span>
                                </div>
                            </div>
                        </div>
                        <div id="dashboard-section">
                            <div class="vendor-stats" id="client-stats"></div>
                            <div class="overview-grid">
                                <div class="dashboard-card">
                                    <h2 class="dashboard-card-title">Recent Bookings</h2>
                                    <div id="upcoming-bookings" class="dashboard-fixed-list"></div>
                                </div>
                                <div class="dashboard-card">
                                    <div class="dashboard-card-title-row">
                                        <h2 class="dashboard-card-title">Recent Messages</h2>
                                        <button class="btn btn-outline" id="open-all-messages-btn-client" style="padding:.5rem .9rem;">Open Messages</button>
                                    </div>
                                    <div id="client-recent-messages" class="message-preview-list dashboard-fixed-list"></div>
                                </div>
                            </div>
                        </div>
                        <div id="bookings-section" style="display: none;">
                            <div class="dashboard-card">
                                <div class="booking-tabs">
                                    <button class="booking-tab active" data-tab="all">All</button>
                                    <button class="booking-tab" data-tab="pending">Pending</button>
                                    <button class="booking-tab" data-tab="accepted">Accepted</button>
                                    <button class="booking-tab" data-tab="declined">Declined</button>
                                    <button class="booking-tab" data-tab="expired">Expired</button>
                                </div>
                                <div class="booking-content">
                                    <div id="all-bookings" class="booking-tab-content active">
                                        <div class="booking-count">0 items</div>
                                        <div id="all-bookings-list"></div>
                                    </div>
                                    <div id="pending-bookings" class="booking-tab-content">
                                        <div class="booking-count">0 requests</div>
                                        <div id="pending-bookings-list"><p>No pending items.</p></div>
                                    </div>
                                    <div id="accepted-bookings" class="booking-tab-content">
                                        <div class="booking-count">0 items</div>
                                        <div id="completed-bookings"><p>No accepted items.</p></div>
                                    </div>
                                    <div id="declined-bookings" class="booking-tab-content">
                                        <div class="booking-count">0 items</div>
                                        <div id="declined-bookings-list"><p>No declined items.</p></div>
                                    </div>
                                    <div id="expired-bookings" class="booking-tab-content">
                                        <div class="booking-count">0 items</div>
                                        <div id="expired-bookings-list"><p>No expired items.</p></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="invoices-section" style="display: none;">
                            <div class="dashboard-card">
                                <div id="client-invoices-list"></div>
                            </div>
                        </div>
                        <div id="favorites-section" style="display: none;">
                            <div class="dashboard-card">
                                <div class="vendor-grid" id="saved-favorites"></div>
                            </div>
                        </div>
                        <div id="messages-section" style="display: none;">
                            <div class="dashboard-card">
                                <div class="chat-container">
                                    <div class="chat-messages" id="dashboard-chat-messages"></div>
                                    <div class="chat-input">
                                        <input type="text" placeholder="Type your message..." id="dashboard-chat-input">
                                        <button class="btn btn-primary" id="dashboard-send-btn">Send</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="requests-section" style="display: none;">
                            <div class="dashboard-card">
                                <div class="requests-filter-tabs">
                                    <button class="tab-btn active" data-filter="all">All Requests</button>
                                    <button class="tab-btn" data-filter="pending">Pending</button>
                                    <button class="tab-btn" data-filter="approved">Approved</button>
                                    <button class="tab-btn" data-filter="declined">Declined</button>
                                    <button class="tab-btn" data-filter="expired">Expired</button>
                                </div>
                                <div id="user-requests"></div>
                            </div>
                        </div>
                        <div id="reviews-section" style="display: none;">
                            <div class="dashboard-card">
                                <div id="user-reviews"></div>
                            </div>
                        </div>
                        <div id="settings-section" style="display: none;">
                            <!-- Personal Settings Category -->
                            <div class="settings-category">
                                <h2 class="settings-category-title">Personal settings</h2>
                                <div class="settings-grid">
                                    <div class="settings-card" data-settings-modal="personal-details">
                                        <div class="settings-card-icon">
                                            <i class="fas fa-user"></i>
                                        </div>
                                        <h3 class="settings-card-title">Personal details</h3>
                                        <p class="settings-card-description">Contact information, password, authentication methods and your active sessions.</p>
                                    </div>
                                    <div class="settings-card" data-settings-modal="communication-preferences">
                                        <div class="settings-card-icon">
                                            <i class="fas fa-envelope"></i>
                                        </div>
                                        <h3 class="settings-card-title">Communication preferences</h3>
                                        <p class="settings-card-description">Customise the emails, SMS, and push notifications you receive.</p>
                                    </div>
                                </div>
                            </div>

                            <!-- Account Settings Category -->
                            <div class="settings-category">
                                <h2 class="settings-category-title">Account settings</h2>
                                <div class="settings-grid">
                                    <div class="settings-card" data-settings-modal="security">
                                        <div class="settings-card-icon">
                                            <i class="fas fa-shield-alt"></i>
                                        </div>
                                        <h3 class="settings-card-title">Security</h3>
                                        <p class="settings-card-description">Manage your account security, authorised apps, and shared resources.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </main>
                </div>
                <!-- Vendor Dashboard -->
                <div class="dashboard-container" id="vendor-dashboard-container" style="display: none; height: 100%;">
                    <aside class="dashboard-sidebar">
                        <div class="logo" style="padding: 1rem 0; border-bottom: 1px solid var(--border); display: flex; align-items: center; justify-content: center;">
                            <img src="planhive_logo.svg" alt="PlanHive" style="height: 40px; width: auto;">
                        </div>
                        <ul class="dashboard-menu">
                            <li><a href="#" class="active" data-section="vendor-dashboard"><i class="fas fa-tachometer-alt"></i>Dashboard</a></li>
                            <li><a href="#" data-section="vendor-requests"><i class="fas fa-calendar-check"></i>Bookings</a></li>
                            <li><a href="#" data-section="vendor-invoices"><i class="fas fa-file-invoice"></i>Invoices</a></li>
                            <li><a href="#" data-section="vendor-business-profile"><i class="fas fa-building"></i>Business Profile</a></li>
                            <li><a href="#" data-section="vendor-messages"><i class="fas fa-comments"></i>Messages</a></li>
                            <li><a href="#" data-section="vendor-reviews"><i class="fas fa-star"></i>Reviews</a></li>
                            <li><a href="#" data-section="vendor-analytics"><i class="fas fa-chart-line"></i>Analytics</a></li>
                            <li><a href="#" data-section="vendor-settings"><i class="fas fa-cog"></i>Settings</a></li>
                            <li><a href="#" id="vendor-logout"><i class="fas fa-sign-out-alt"></i>Log Out</a></li>
                        </ul>
                    </aside>
                    <main class="dashboard-content" style="overflow-y: auto;">
                        <div class="dashboard-header">
                            <h1 class="dashboard-title" id="vendor-dashboard-title">Vendor Dashboard</h1>
                            <div class="user-nav">
                                <div class="nav-icon" id="vendor-notifications-btn" style="display: none;">
                                    <i class="fas fa-bell"></i>
                                    <span class="badge" id="vendor-notifications-badge">0</span>
                                </div>
                            </div>
                        </div>
                        <div id="vendor-dashboard-section">
                            <div class="vendor-stats" id="vendor-stats"></div>
                            <div class="overview-grid">
                                <div class="dashboard-card">
                                    <h2 class="dashboard-card-title">Recent Bookings</h2>
                                    <div id="vendor-recent-bookings" class="dashboard-fixed-list"></div>
                                </div>
                                <div class="dashboard-card">
                                    <div class="dashboard-card-title-row">
                                        <h2 class="dashboard-card-title">Recent Messages</h2>
                                        <button class="btn btn-outline" id="open-all-messages-btn" style="padding:.5rem .9rem;">Open Messages</button>
                                    </div>
                                    <div id="vendor-recent-messages" class="message-preview-list dashboard-fixed-list"></div>
                                </div>
                            </div>
                        </div>
                        <div id="vendor-requests-section" style="display: none;">
                            <div class="dashboard-card">
                                <!-- Direction tabs removed per UI preference -->
                                <!-- Status filter tabs -->
                                <div class="requests-filter-tabs" id="vendor-requests-tabs" style="margin-bottom:.8rem;">
                                    <button class="tab-btn active" data-status="all">All</button>
                                    <button class="tab-btn" data-status="pending">Pending</button>
                                    <button class="tab-btn" data-status="approved">Accepted</button>
                                    <button class="tab-btn" data-status="declined">Declined</button>
                                    <button class="tab-btn" data-status="expired">Expired</button>
                                </div>
                                <div id="vendor-pending-requests"></div>
                            </div>
                        </div>
                        <div id="vendor-invoices-section" style="display: none;">
                            <div class="dashboard-card">
                                <div id="vendor-invoices-list"></div>
                            </div>
                        </div>
                        <div id="vendor-messages-section" style="display: none;">
                            <div class="dashboard-card">
                                <div class="chat-container" style="height: 500px;">
                                    <div class="chat-messages" id="vendor-all-chat-messages"></div>
                                    <div class="chat-input">
                                        <input type="text" placeholder="Type your message..." id="vendor-all-chat-input">
                                        <button class="btn btn-primary" id="vendor-all-send-btn">Send</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="vendor-reviews-section" style="display: none;">
                            <div class="dashboard-card">
                                <div id="vendor-reviews"></div>
                            </div>
                        </div>
                        <div id="vendor-analytics-section" style="display: none;">
                            <div class="dashboard-card">
                                <div id="analytics-charts" class="analytics-charts"></div>
                            </div>
                        </div>
                        <div id="vendor-business-profile-section" style="display: none;">
                            <!-- Business Profile Categories -->
                            <div class="settings-category">
                                <div id="business-profile-header" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                                    <h2 class="settings-category-title" style="margin-bottom: 0;">Business Profile Management</h2>
                                    <button id="view-public-profile-btn" class="btn btn-outline" style="display: flex; align-items: center; gap: 0.5rem; font-size: 0.9rem; padding: 0.6rem 1rem;">
                                        <i class="fas fa-external-link-alt"></i>
                                        View your profile
                                    </button>
                                </div>
                                <div class="settings-grid">
                                    <div class="settings-card" data-panel="vendor-profile-panel">
                                        <div class="settings-card-icon">
                                            <i class="fas fa-building"></i>
                                        </div>
                                        <h3 class="settings-card-title">Business Information</h3>
                                        <p class="settings-card-description">Update your business details, categories, and description</p>
                                    </div>
                                    <div class="settings-card" data-panel="vendor-location-panel">
                                        <div class="settings-card-icon">
                                            <i class="fas fa-map-marker-alt"></i>
                                        </div>
                                        <h3 class="settings-card-title">Location & Service Areas</h3>
                                        <p class="settings-card-description">Set your business address and areas you serve</p>
                                    </div>
                                    <div class="settings-card" data-panel="vendor-additional-details-panel">
                                        <div class="settings-card-icon">
                                            <i class="fas fa-clipboard-check"></i>
                                        </div>
                                        <h3 class="settings-card-title">Vendor Setup Questionnaire</h3>
                                        <p class="settings-card-description">Select features that describe your services</p>
                                    </div>
                                    <div class="settings-card" data-panel="vendor-services-panel">
                                        <div class="settings-card-icon">
                                            <i class="fas fa-briefcase"></i>
                                        </div>
                                        <h3 class="settings-card-title">Services & Packages</h3>
                                        <p class="settings-card-description">Manage your offerings and service packages</p>
                                    </div>
                                    <div class="settings-card" data-panel="vendor-photos-panel">
                                        <div class="settings-card-icon">
                                            <i class="fas fa-images"></i>
                                        </div>
                                        <h3 class="settings-card-title">Gallery & Media</h3>
                                        <p class="settings-card-description">Manage business photos and organize into albums</p>
                                    </div>
                                    <div class="settings-card" data-panel="vendor-social-panel">
                                        <div class="settings-card-icon">
                                            <i class="fas fa-share-alt"></i>
                                        </div>
                                        <h3 class="settings-card-title">Social Media & Booking</h3>
                                        <p class="settings-card-description">Connect your social profiles and booking link</p>
                                    </div>
                                    <div class="settings-card" data-panel="vendor-faqs-panel">
                                        <div class="settings-card-icon">
                                            <i class="fas fa-question-circle"></i>
                                        </div>
                                        <h3 class="settings-card-title">FAQs</h3>
                                        <p class="settings-card-description">Create frequently asked questions</p>
                                    </div>
                                    <div class="settings-card" data-panel="vendor-availability-panel">
                                        <div class="settings-card-icon">
                                            <i class="fas fa-clock"></i>
                                        </div>
                                        <h3 class="settings-card-title">Availability & Hours</h3>
                                        <p class="settings-card-description">Set your business hours and availability</p>
                                    </div>
                                    <div class="settings-card" data-panel="vendor-stripe-panel">
                                        <div class="settings-card-icon">
                                            <i class="fab fa-stripe"></i>
                                        </div>
                                        <h3 class="settings-card-title">Stripe Setup</h3>
                                        <p class="settings-card-description">Connect your Stripe account to receive payments</p>
                                    </div>
                                    <div class="settings-card" data-panel="vendor-popular-filters-panel">
                                        <div class="settings-card-icon">
                                            <i class="fas fa-tags"></i>
                                        </div>
                                        <h3 class="settings-card-title">Popular Filters</h3>
                                        <p class="settings-card-description">Enable special badges that help clients find your business</p>
                                    </div>
                                </div>
                                
                                <!-- Panels Container -->
                                <div class="panels-container">
                                    <!-- Business Information Panel -->
                                    <div id="vendor-profile-panel" style="display: none;">
                                        <button class="btn btn-outline back-to-menu-btn" style="margin-bottom: 1rem;">
                                            <i class="fas fa-arrow-left"></i> Back to Business Profile Menu
                                        </button>
                                <div class="dashboard-card">
                                    <h2 class="dashboard-card-title" style="display: flex; align-items: center; gap: 0.75rem;"><span style="width: 36px; height: 36px; border-radius: 8px; background: var(--secondary); display: flex; align-items: center; justify-content: center; color: var(--primary); font-size: 1.1rem;"><i class="fas fa-building"></i></span> Business Information</h2>
                                    <p style="color: var(--text-light); margin-bottom: 1.5rem; font-size: 0.9rem;">
                                        Update your business name, categories, and pricing to help clients find your services.
                                    </p>
                                    <hr style="border: none; border-top: 1px solid #e5e7eb; margin: 1.5rem 0;">
                                    <form id="vendor-profile-form">
                                        <!-- Row 1: Business Name and Display Name -->
                                        <div class="form-row">
                                            <div class="form-col">
                                                <div class="form-group">
                                                    <label for="vendor-name">Business Name <span style="color:red;">*</span></label>
                                                    <input type="text" id="vendor-name" required>
                                                </div>
                                            </div>
                                            <div class="form-col">
                                                <div class="form-group">
                                                    <label for="vendor-display-name">Display Name (for public listing)</label>
                                                    <input type="text" id="vendor-display-name" placeholder="Public listing name">
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <!-- Row 2: Business Email and Business Phone -->
                                        <div class="form-row">
                                            <div class="form-col">
                                                <div class="form-group">
                                                    <label for="vendor-email">Business Email <span style="color:red;">*</span></label>
                                                    <input type="email" id="vendor-email" required>
                                                </div>
                                            </div>
                                            <div class="form-col">
                                                <div class="form-group">
                                                    <label for="vendor-phone">Business Phone <span style="color:red;">*</span></label>
                                                    <input type="tel" id="vendor-phone" required>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <!-- Row 3: Website URL and Years in Business -->
                                        <div class="form-row">
                                            <div class="form-col">
                                                <div class="form-group">
                                                    <label for="vendor-website">Website URL</label>
                                                    <input type="url" id="vendor-website">
                                                </div>
                                            </div>
                                            <div class="form-col">
                                                <div class="form-group">
                                                    <label for="vendor-years-in-business">Years in Business</label>
                                                    <input type="number" id="vendor-years-in-business" min="0">
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <!-- Row 4: Business Description (Full Width) -->
                                        <div class="form-group">
                                            <label for="vendor-description">Business Description <span style="color:red;">*</span></label>
                                            <textarea id="vendor-description" rows="4" style="width: 100%; padding: 0.75rem; border: 1px solid var(--border); border-radius: var(--radius);" required></textarea>
                                        </div>
                                        
                                        <!-- Row 5: Tagline and Primary Category -->
                                        <div class="form-row">
                                            <div class="form-col">
                                                <div class="form-group">
                                                    <label for="vendor-tagline">Tagline (short description)</label>
                                                    <input type="text" id="vendor-tagline" placeholder="Short description">
                                                </div>
                                            </div>
                                            <div class="form-col">
                                                <div class="form-group">
                                                    <label for="vendor-category">Primary Category <span style="color:red;">*</span></label>
                                                    <select id="vendor-category" required></select>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <!-- Row 6: Additional Categories and Price Range -->
                                        <div class="form-row">
                                            <div class="form-col">
                                                <div class="form-group">
                                                    <label>Additional Categories</label>
                                                    <div id="vendor-additional-categories" style="display: flex; flex-direction: column; gap: 0.4rem; padding: 0.5rem; border: 1px solid var(--border); border-radius: var(--radius); background: #fafbfc; max-height: 180px; overflow-y: auto;">
                                                        <!-- Checkboxes will be populated here -->
                                                    </div>
                                                    <small style="color: var(--text-light); font-size: 0.85rem; display: block; margin-top: 0.5rem;">Select all categories that apply to your business</small>
                                                </div>
                                            </div>
                                            <div class="form-col">
                                                <div class="form-group">
                                                    <label for="vendor-price-level">Price Range <span style="color:red;">*</span></label>
                                                    <select id="vendor-price-level" required style="width: 100%; padding: 0.75rem; border: 1px solid var(--border); border-radius: var(--radius); background-color: white;">
                                                        <option value="">Select price range</option>
                                                        <option value="$">$ - Inexpensive</option>
                                                        <option value="$$">$$ - Moderate</option>
                                                        <option value="$$$">$$$ - Expensive</option>
                                                        <option value="$$$$">$$$$ - Luxury</option>
                                                    </select>
                                                    <small style="color: var(--text-light); font-size: 0.85rem;">This helps clients find services that match their budget</small>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <button type="submit" class="btn btn-primary">Save Changes</button>
                                    </form>
                                </div>
                            </div>
                            
                            <!-- Location & Service Areas Panel -->
                            <div id="vendor-location-panel" style="display: none;">
                                <button class="btn btn-outline back-to-menu-btn" style="margin-bottom: 1rem;">
                                    <i class="fas fa-arrow-left"></i> Back to Business Profile Menu
                                </button>
                                <div class="dashboard-card">
                                        <h2 class="dashboard-card-title" style="display: flex; align-items: center; gap: 0.75rem;"><span style="width: 36px; height: 36px; border-radius: 8px; background: var(--secondary); display: flex; align-items: center; justify-content: center; color: var(--primary); font-size: 1.1rem;"><i class="fas fa-map-marker-alt"></i></span> Location & Service Areas</h2>
                                        <p style="color: var(--text-light); margin-bottom: 1.5rem; font-size: 0.9rem;">
                                            Set your business address and define the geographic areas you serve to help clients find you.
                                        </p>
                                        <hr style="border: none; border-top: 1px solid #e5e7eb; margin: 1.5rem 0;">
                                        <form id="vendor-location-form">
                                            <!-- Row 1: Street Address and City -->
                                            <div class="form-row">
                                                <div class="form-col">
                                                    <div class="form-group">
                                                        <label for="loc-address">Street Address</label>
                                                        <input type="text" id="loc-address">
                                                    </div>
                                                </div>
                                                <div class="form-col">
                                                    <div class="form-group">
                                                        <label for="loc-city">City</label>
                                                        <input type="text" id="loc-city">
                                                    </div>
                                                </div>
                                            </div>
                                            
                                            <!-- Row 2: Province and Country -->
                                            <div class="form-row">
                                                <div class="form-col">
                                                    <div class="form-group">
                                                        <label for="loc-state">Province</label>
                                                        <input type="text" id="loc-state">
                                                    </div>
                                                </div>
                                                <div class="form-col">
                                                    <div class="form-group">
                                                        <label for="loc-country">Country</label>
                                                        <input type="text" id="loc-country" placeholder="Canada">
                                                    </div>
                                                </div>
                                            </div>
                                            
                                            <!-- Row 3: Postal Code -->
                                            <div class="form-row">
                                                <div class="form-col">
                                                    <div class="form-group">
                                                        <label for="loc-postal">Postal Code</label>
                                                        <input type="text" id="loc-postal">
                                                    </div>
                                                </div>
                                                <div class="form-col"></div>
                                            </div>
                                            
                                            <!-- Service Areas Section -->
                                            <div style="margin-top: 2rem; padding-top: 2rem; border-top: 1px solid var(--border);">
                                                <h3 style="font-size: 1.1rem; font-weight: 600; color: var(--text); margin-bottom: 0.5rem;">
                                                    Service Areas <span style="color: var(--accent);">*</span>
                                                </h3>
                                                <p style="color: var(--text-light); font-size: 0.875rem; margin-bottom: 0.75rem;">
                                                    Add the cities or regions where you offer your services
                                                </p>
                                                
                                                <div class="form-row" style="margin-bottom: 0.5rem;">
                                                    <div class="form-col">
                                                        <div class="form-group">
                                                            <label for="service-area-input">Add City/Region</label>
                                                            <input type="text" id="service-area-input" placeholder="e.g., Toronto, ON">
                                                        </div>
                                                    </div>
                                                    <div class="form-col">
                                                        <div class="form-group">
                                                            <label style="visibility: hidden;">Action</label>
                                                            <button type="button" class="btn btn-primary" id="add-service-area-btn">
                                                                <i class="fas fa-plus" style="margin-right: 0.5rem;"></i>Add
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>
                                                
                                                <div id="service-areas-list" style="display: flex; gap: 0.5rem; flex-wrap: wrap; min-height: 2rem; margin-bottom: 0.5rem;"></div>
                                            </div>
                                            <button type="submit" class="btn btn-primary" style="margin-top: 1.5rem;">Save Location</button>
                                        </form>
                                </div>
                            </div>
                            
                            <!-- Additional Details Panel (Vendor Questionnaire) -->
                            <div id="vendor-additional-details-panel" style="display: none;">
                                <button class="btn btn-outline back-to-menu-btn" style="margin-bottom: 1rem;">
                                    <i class="fas fa-arrow-left"></i> Back to Business Profile Menu
                                </button>
                                <div class="dashboard-card">
                                    <h2 class="dashboard-card-title" style="display: flex; align-items: center; gap: 0.75rem;"><span style="width: 36px; height: 36px; border-radius: 8px; background: var(--secondary); display: flex; align-items: center; justify-content: center; color: var(--primary); font-size: 1.1rem;"><i class="fas fa-clipboard-check"></i></span> Vendor Setup Questionnaire</h2>
                                    <p style="color: var(--text-light); margin-bottom: 1.5rem; font-size: 0.9rem;">
                                        Select the features and services that apply to your business. This helps clients understand what you offer.
                                    </p>
                                    <hr style="border: none; border-top: 1px solid #e5e7eb; margin: 1.5rem 0;">
                                    <div id="vendor-questionnaire-container" style="margin-bottom: 2rem;">
                                        <div class="questionnaire-loading">
                                            <div class="spinner"></div>
                                        </div>
                                    </div>
                                    <div style="margin-top: 2.5rem; padding-top: 2rem; border-top: 2px solid #f0f0f0; display: flex; justify-content: space-between; align-items: center;">
                                        <div id="selection-summary" style="color: var(--text-light); font-size: 0.95rem;">
                                            <i class="fas fa-info-circle" style="color: var(--primary);"></i>
                                            <span id="selection-count">0 features selected</span>
                                        </div>
                                        <button type="button" id="save-vendor-questionnaire" class="btn btn-primary" style="display: none; padding: 0.75rem 2rem; font-size: 1rem;">
                                            <i class="fas fa-check"></i> Save Selections
                                        </button>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Social Media & Booking Panel -->
                            <div id="vendor-social-panel" style="display: none;">
                                <button class="btn btn-outline back-to-menu-btn" style="margin-bottom: 1rem;">
                                    <i class="fas fa-arrow-left"></i> Back to Business Profile Menu
                                </button>
                                <div class="dashboard-card">
                                        <h2 class="dashboard-card-title" style="display: flex; align-items: center; gap: 0.75rem;"><span style="width: 36px; height: 36px; border-radius: 8px; background: var(--secondary); display: flex; align-items: center; justify-content: center; color: var(--primary); font-size: 1.1rem;"><i class="fas fa-share-alt"></i></span> Social Media & Booking</h2>
                                        <p style="color: var(--text-light); margin-bottom: 1.5rem; font-size: 0.9rem;">
                                            Connect your social media profiles and booking links to increase engagement and make it easier for clients to reach you.
                                        </p>
                                        <hr style="border: none; border-top: 1px solid #e5e7eb; margin: 1.5rem 0;">
                                        <form id="vendor-social-form">
                                            <h3 class="dashboard-card-subtitle" style="margin: 1rem 0; color: var(--primary);">Social Media Profiles</h3>
                                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1rem;">
                                                <div class="form-group">
                                                    <label for="social-facebook-settings" style="display: flex; align-items: center; gap: 0.5rem;">
                                                        <i class="fab fa-facebook" style="color: #1877F2; font-size: 1.2rem;"></i>
                                                        Facebook
                                                    </label>
                                                    <div style="display: flex; align-items: center; border: 1px solid var(--border); border-radius: var(--radius); background-color: white;">
                                                        <span style="padding: 0.75rem 0.5rem 0.75rem 0.75rem; color: var(--text-light); font-size: 0.9rem; background-color: var(--secondary); border-right: 1px solid var(--border);">facebook.com/</span>
                                                        <input type="text" id="social-facebook-settings" placeholder="yourpage" style="border: none; outline: none; padding: 0.75rem; flex: 1; font-size: 0.9rem; background: transparent;" data-prefix="https://facebook.com/">
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label for="social-instagram-settings" style="display: flex; align-items: center; gap: 0.5rem;">
                                                        <i class="fab fa-instagram" style="color: #E4405F; font-size: 1.2rem;"></i>
                                                        Instagram
                                                    </label>
                                                    <div style="display: flex; align-items: center; border: 1px solid var(--border); border-radius: var(--radius); background-color: white;">
                                                        <span style="padding: 0.75rem 0.5rem 0.75rem 0.75rem; color: var(--text-light); font-size: 0.9rem; background-color: var(--secondary); border-right: 1px solid var(--border);">instagram.com/</span>
                                                        <input type="text" id="social-instagram-settings" placeholder="youraccount" style="border: none; outline: none; padding: 0.75rem; flex: 1; font-size: 0.9rem; background: transparent;" data-prefix="https://instagram.com/">
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label for="social-twitter-settings" style="display: flex; align-items: center; gap: 0.5rem;">
                                                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="#000000" style="margin-right: 0.25rem;"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
                                                        X
                                                    </label>
                                                    <div style="display: flex; align-items: center; border: 1px solid var(--border); border-radius: var(--radius); background-color: white;">
                                                        <span style="padding: 0.75rem 0.5rem 0.75rem 0.75rem; color: var(--text-light); font-size: 0.9rem; background-color: var(--secondary); border-right: 1px solid var(--border);">x.com/</span>
                                                        <input type="text" id="social-twitter-settings" placeholder="youraccount" style="border: none; outline: none; padding: 0.75rem; flex: 1; font-size: 0.9rem; background: transparent;" data-prefix="https://x.com/">
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label for="social-linkedin-settings" style="display: flex; align-items: center; gap: 0.5rem;">
                                                        <i class="fab fa-linkedin" style="color: #0077B5; font-size: 1.2rem;"></i>
                                                        LinkedIn
                                                    </label>
                                                    <div style="display: flex; align-items: center; border: 1px solid var(--border); border-radius: var(--radius); background-color: white;">
                                                        <span style="padding: 0.75rem 0.5rem 0.75rem 0.75rem; color: var(--text-light); font-size: 0.9rem; background-color: var(--secondary); border-right: 1px solid var(--border);">linkedin.com/in/</span>
                                                        <input type="text" id="social-linkedin-settings" placeholder="yourprofile" style="border: none; outline: none; padding: 0.75rem; flex: 1; font-size: 0.9rem; background: transparent;" data-prefix="https://linkedin.com/in/">
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label for="social-youtube-settings" style="display: flex; align-items: center; gap: 0.5rem;">
                                                        <i class="fab fa-youtube" style="color: #FF0000; font-size: 1.2rem;"></i>
                                                        YouTube
                                                    </label>
                                                    <div style="display: flex; align-items: center; border: 1px solid var(--border); border-radius: var(--radius); background-color: white;">
                                                        <span style="padding: 0.75rem 0.5rem 0.75rem 0.75rem; color: var(--text-light); font-size: 0.9rem; background-color: var(--secondary); border-right: 1px solid var(--border);">youtube.com/</span>
                                                        <input type="text" id="social-youtube-settings" placeholder="yourchannel" style="border: none; outline: none; padding: 0.75rem; flex: 1; font-size: 0.9rem; background: transparent;" data-prefix="https://youtube.com/">
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label for="social-tiktok-settings" style="display: flex; align-items: center; gap: 0.5rem;">
                                                        <i class="fab fa-tiktok" style="color: #6b7280; font-size: 1.2rem;"></i>
                                                        TikTok
                                                    </label>
                                                    <div style="display: flex; align-items: center; border: 1px solid var(--border); border-radius: var(--radius); background-color: white;">
                                                        <span style="padding: 0.75rem 0.5rem 0.75rem 0.75rem; color: var(--text-light); font-size: 0.9rem; background-color: var(--secondary); border-right: 1px solid var(--border);">tiktok.com/@</span>
                                                        <input type="text" id="social-tiktok-settings" placeholder="youraccount" style="border: none; outline: none; padding: 0.75rem; flex: 1; font-size: 0.9rem; background: transparent;" data-prefix="https://tiktok.com/@">
                                                    </div>
                                                </div>
                                            </div>

                                            <button type="submit" class="btn btn-primary">Save Social</button>
                                        </form>
                                </div>
                            </div>
                            
                            <!-- Services & Packages Panel -->
                            <div id="vendor-services-panel" style="display: none;">
                                <button class="btn btn-outline back-to-menu-btn" style="margin-bottom: 1rem;">
                                    <i class="fas fa-arrow-left"></i> Back to Business Profile Menu
                                </button>
                                <div class="dashboard-card">
                                        <h2 class="dashboard-card-title" style="display: flex; align-items: center; gap: 0.75rem;"><span style="width: 36px; height: 36px; border-radius: 8px; background: var(--secondary); display: flex; align-items: center; justify-content: center; color: var(--primary); font-size: 1.1rem;"><i class="fas fa-briefcase"></i></span> Services</h2>
                                        <p style="color: var(--text-light); margin-bottom: 1.5rem; font-size: 0.9rem;">
                                            Select and manage the services you offer. Add services to make it easier for clients to find and book you.
                                        </p>
                                        <hr style="border: none; border-top: 1px solid #e5e7eb; margin: 1.5rem 0;">
                                        <div id="vendor-settings-services-loading" style="text-align: center; padding: 2rem; color: var(--text-light);">
                                            <div class="spinner" style="margin: 0 auto;"></div>
                                        </div>

                                        <div id="vendor-settings-services-container" style="display: none;">
                                            <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 1.5rem;">
                                                <h5 style="margin: 0; color: var(--primary);">Available Services</h5>
                                                <span id="vendor-settings-selected-count" style="color: var(--text-light); font-size: 0.9rem;">0 added</span>
                                            </div>

                                            <div id="vendor-settings-services-grid" style="display: flex; flex-direction: column; gap: 1rem; margin-bottom: 2rem; width: 100%;"></div>

                                            <div style="display: flex; justify-content: flex-end; gap: 0.5rem; margin-top: 1rem;">
                                                <button class="btn btn-primary" id="vendor-settings-save-services">Save Services</button>
                                            </div>
                                        </div>

                                        <div id="vendor-settings-no-services" style="display: none; text-align: center; padding: 3rem; color: var(--text-light);">
                                            <i class="fas fa-info-circle" style="font-size: 2rem; margin-bottom: 1rem; color: var(--primary);"></i>
                                            <h6 style="margin-bottom: 0.5rem;">No predefined services available</h6>
                                            <p style="margin: 0;">No services match your business categories. Update your categories in Business Profile.</p>
                                        </div>
                                </div>
                            </div>
                            
                            <!-- FAQs Panel -->
                            <div id="vendor-faqs-panel" style="display: none;">
                                <button class="btn btn-outline back-to-menu-btn" style="margin-bottom: 1rem;">
                                    <i class="fas fa-arrow-left"></i> Back to Business Profile Menu
                                </button>
                                <div class="dashboard-card">
                                        <h2 class="dashboard-card-title" style="display: flex; align-items: center; gap: 0.75rem;"><span style="width: 36px; height: 36px; border-radius: 8px; background: var(--secondary); display: flex; align-items: center; justify-content: center; color: var(--primary); font-size: 1.1rem;"><i class="fas fa-question-circle"></i></span> FAQs</h2>
                                        <p style="color: var(--text-light); margin-bottom: 1.5rem; font-size: 0.9rem;">
                                            Create frequently asked questions to help clients learn more about your services and policies.
                                        </p>
                                        <hr style="border: none; border-top: 1px solid #e5e7eb; margin: 1.5rem 0;">
                                        <div id="faqs-list"></div>
                                        <div style="margin-top: 1rem;">
                                            <button id="add-faq-btn" class="btn btn-outline">Add FAQ</button>
                                            <button id="save-faqs-btn" class="btn btn-primary" style="margin-left: 0.5rem;">Save FAQs</button>
                                        </div>
                                </div>
                            </div>
                            
                            <!-- Gallery & Media Panel -->
                            <div id="vendor-photos-panel" style="display: none;">
                                <button class="btn btn-outline back-to-menu-btn" style="margin-bottom: 1rem;">
                                    <i class="fas fa-arrow-left"></i> Back to Business Profile Menu
                                </button>
                                <div class="dashboard-card">
                                    <h2 class="dashboard-card-title" style="display: flex; align-items: center; gap: 0.75rem;">
                                        <span style="width: 36px; height: 36px; border-radius: 8px; background: var(--secondary); display: flex; align-items: center; justify-content: center; color: var(--primary); font-size: 1.1rem;">
                                            <i class="fas fa-images"></i>
                                        </span> 
                                        Gallery & Media
                                    </h2>
                                    <p style="color: var(--text-light); margin-bottom: 1.5rem; font-size: 0.9rem;">
                                        Manage your business photos and organize them into themed albums
                                    </p>
                                    <hr style="border: none; border-top: 1px solid #e5e7eb; margin: 1.5rem 0;">
                                    
                                    <!-- Business Photos Section -->
                                    <div style="margin-bottom: 3rem;">
                                        <h3 style="font-size: 1.25rem; font-weight: 600; color: var(--text); margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem;">
                                            <i class="fas fa-images"></i> Business Photos
                                        </h3>
                                        <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 1rem; margin-bottom: 1.5rem;" id="vendor-photos">
                                            <p>No photos uploaded.</p>
                                        </div>
                                        <button class="btn btn-outline" id="upload-photos-btn">
                                            <i class="fas fa-upload"></i> Upload Photos
                                        </button>
                                        <div style="margin-top:1rem;display:grid;grid-template-columns:1fr 1fr auto;gap:.5rem;align-items:end;">
                                            <div class="form-group" style="margin:0;">
                                                <label for="image-url-input">Add Image by URL</label>
                                                <input type="url" id="image-url-input" placeholder="https://...">
                                            </div>
                                            <div class="form-group" style="margin:0;">
                                                <label for="image-caption-input">Caption (optional)</label>
                                                <input type="text" id="image-caption-input">
                                            </div>
                                            <div class="form-group" style="margin:0;display:flex;gap:.5rem;align-items:center;">
                                                <label><input type="checkbox" id="image-primary-checkbox"> Primary</label>
                                                <button class="btn btn-primary" type="button" id="add-photo-url-btn">Add</button>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- Photo Albums Section -->
                                    <div style="border-top: 2px solid var(--border); padding-top: 2rem;">
                                        <h3 style="font-size: 1.25rem; font-weight: 600; color: var(--text); margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem;">
                                            <i class="fas fa-folder-open"></i> Photo Albums
                                        </h3>
                                        <p style="color: var(--text-light); margin-bottom: 1.5rem;">
                                            Organize your work into themed albums to showcase different types of events, projects, or styles. Albums help potential clients browse your portfolio easily.
                                        </p>
                                        
                                        <!-- Albums List -->
                                        <div id="portfolio-albums-list" style="margin-bottom: 2rem;">
                                        </div>
                                        
                                        <!-- Create Album Button -->
                                        <button class="btn btn-primary" id="create-album-btn">
                                            <i class="fas fa-plus"></i> Create New Album
                                        </button>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Availability & Hours Panel -->
                            <div id="vendor-availability-panel" style="display: none;">
                                <button class="btn btn-outline back-to-menu-btn" style="margin-bottom: 1rem;">
                                    <i class="fas fa-arrow-left"></i> Back to Business Profile Menu
                                </button>
                                <div class="dashboard-card">
                                    <h2 class="dashboard-card-title" style="display: flex; align-items: center; gap: 0.75rem;">
                                        <span style="width: 36px; height: 36px; border-radius: 8px; background: var(--secondary); display: flex; align-items: center; justify-content: center; color: var(--primary); font-size: 1.1rem;">
                                            <i class="fas fa-clock"></i>
                                        </span> 
                                        Business Hours & Availability
                                    </h2>
                                    <p style="color: var(--text-light); margin-bottom: 1.5rem; font-size: 0.9rem;">Set your regular business hours and timezone</p>
                                    <hr style="border: none; border-top: 1px solid #e5e7eb; margin: 1.5rem 0;">
                                    
                                    <!-- Timezone Selection -->
                                    <div style="margin-bottom: 2rem;">
                                        <label style="display: block; font-weight: 600; margin-bottom: 0.5rem; color: var(--text); font-size: 0.9rem;">
                                            <i class="fas fa-globe" style="color: var(--primary); margin-right: 0.5rem;"></i>
                                            Timezone
                                        </label>
                                        <select id="business-timezone" style="width: 100%; padding: 0.75rem 1rem; border: 1px solid #d1d5db; border-radius: 6px; background: white; font-size: 0.95rem; color: var(--text); cursor: pointer; transition: all 0.2s; appearance: none; background-image: url('data:image/svg+xml;charset=UTF-8,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 24 24%27 fill=%27none%27 stroke=%27%23666%27 stroke-width=%272%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27%3e%3cpolyline points=%276 9 12 15 18 9%27%3e%3c/polyline%3e%3c/svg%3e'); background-repeat: no-repeat; background-position: right 1rem center; background-size: 1.25rem; padding-right: 3rem;" onmouseover="this.style.borderColor='var(--primary)'" onmouseout="this.style.borderColor='#d1d5db'" onfocus="this.style.borderColor='var(--primary)'; this.style.boxShadow='0 0 0 3px rgba(79, 70, 229, 0.1)'" onblur="this.style.borderColor='#d1d5db'; this.style.boxShadow='none'">
                                            <option value="" disabled selected>Select timezone...</option>
                                            <option value="America/St_Johns">America/St_Johns (NST) GMT -3:30</option>
                                            <option value="America/Halifax">America/Halifax (AST) GMT -4:00</option>
                                            <option value="America/Toronto">America/Toronto (EST) GMT -5:00</option>
                                            <option value="America/Winnipeg">America/Winnipeg (CST) GMT -6:00</option>
                                            <option value="America/Edmonton">America/Edmonton (MST) GMT -7:00</option>
                                            <option value="America/Vancouver">America/Vancouver (PST) GMT -8:00</option>
                                        </select>
                                        <small style="color: var(--text-light); display: block; margin-top: 0.5rem; font-size: 0.85rem;">This timezone will be displayed to customers viewing your profile</small>
                                    </div>
                                    
                                    <!-- Business Hours Container -->
                                    <div id="business-hours-container" style="margin-top:1.5rem;"></div>
                                    
                                    <button class="btn btn-primary" id="save-business-hours-btn" style="margin-top:1.5rem; width: 100%; padding: 0.875rem;">
                                        <i class="fas fa-save" style="margin-right: 0.5rem;"></i>
                                        Save Business Hours
                                    </button>
                                </div>
                            </div>
                            
                            <!-- Stripe Setup Panel -->
                            <div id="vendor-stripe-panel" style="display: none;">
                                <button class="btn btn-outline back-to-menu-btn" style="margin-bottom: 1rem;">
                                    <i class="fas fa-arrow-left"></i> Back to Business Profile Menu
                                </button>
                                <div class="dashboard-card">
                                    <h2 class="dashboard-card-title" style="display: flex; align-items: center; gap: 0.75rem;"><span style="width: 36px; height: 36px; border-radius: 8px; background: var(--secondary); display: flex; align-items: center; justify-content: center; color: var(--primary); font-size: 1.1rem;"><i class="fab fa-stripe"></i></span> Stripe Connect</h2>
                                    <p style="color: var(--text-light); margin-bottom: 1.5rem; font-size: 0.9rem;">
                                        Connect your Stripe account to accept payments from customers.
                                    </p>
                                    <hr style="border: none; border-top: 1px solid #e5e7eb; margin: 1.5rem 0;">
                                    
                                    <!-- Stripe Status Display -->
                                    <div id="stripe-status-display">
                                        <div style="text-align: center; padding: 40px 20px;">
                                            <div class="spinner" style="width: 32px; height: 32px; margin: 0 auto 16px;"></div>
                                            <p style="margin: 0; color: var(--text-light);">Checking connection status...</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Popular Filters Panel -->
                            <div id="vendor-popular-filters-panel" style="display: none;">
                                <button class="btn btn-outline back-to-menu-btn" style="margin-bottom: 1rem;">
                                    <i class="fas fa-arrow-left"></i> Back to Business Profile Menu
                                </button>
                                <div class="dashboard-card">
                                    <h2 class="dashboard-card-title" style="display: flex; align-items: center; gap: 0.75rem;">
                                        <span style="width: 32px; height: 32px; border-radius: 8px; background: var(--secondary); display: flex; align-items: center; justify-content: center; color: var(--primary); font-size: 1rem;">
                                            <i class="fas fa-tags"></i>
                                        </span> 
                                        Popular Filters
                                    </h2>
                                    <p style="color: var(--text-light); margin-bottom: 1.5rem; font-size: 0.875rem;">
                                        Enable special badges and filters that help clients find your business when browsing.
                                    </p>
                                    <hr style="border: none; border-top: 1px solid #e5e7eb; margin: 1.5rem 0;">
                                    
                                    <form id="vendor-popular-filters-form">
                                        <div style="display: flex; flex-direction: column; gap: 0.875rem;">
                                            <!-- Premium Filter -->
                                            <label class="filter-row-card">
                                                <input type="checkbox" id="filter-premium">
                                                <i class="fas fa-crown" style="color: #fbbf24;"></i>
                                                <span class="filter-row-content">
                                                    <span class="filter-row-title">Premium</span>
                                                    <span class="filter-row-description">Mark your business as a premium service provider</span>
                                                </span>
                                            </label>

                                            <!-- Eco-Friendly Filter -->
                                            <label class="filter-row-card">
                                                <input type="checkbox" id="filter-eco-friendly">
                                                <i class="fas fa-leaf" style="color: #10b981;"></i>
                                                <span class="filter-row-content">
                                                    <span class="filter-row-title">Eco-Friendly</span>
                                                    <span class="filter-row-description">Show that your business follows environmentally friendly practices</span>
                                                </span>
                                            </label>

                                            <!-- Award Winning Filter -->
                                            <label class="filter-row-card">
                                                <input type="checkbox" id="filter-award-winning">
                                                <i class="fas fa-trophy" style="color: #f59e0b;"></i>
                                                <span class="filter-row-content">
                                                    <span class="filter-row-title">Award Winning</span>
                                                    <span class="filter-row-description">Indicate that your business has received industry awards or recognition</span>
                                                </span>
                                            </label>

                                            <!-- Last Minute Availability Filter -->
                                            <label class="filter-row-card">
                                                <input type="checkbox" id="filter-last-minute">
                                                <i class="fas fa-bolt" style="color: #3b82f6;"></i>
                                                <span class="filter-row-content">
                                                    <span class="filter-row-title">Last Minute Availability</span>
                                                    <span class="filter-row-description">Accept bookings on short notice and accommodate urgent requests</span>
                                                </span>
                                            </label>

                                            <!-- Certified Filter -->
                                            <label class="filter-row-card">
                                                <input type="checkbox" id="filter-certified">
                                                <i class="fas fa-award" style="color: #8b5cf6;"></i>
                                                <span class="filter-row-content">
                                                    <span class="filter-row-title">Certified</span>
                                                    <span class="filter-row-description">Your business holds relevant industry certifications or qualifications</span>
                                                </span>
                                            </label>

                                            <!-- Insured Filter -->
                                            <label class="filter-row-card">
                                                <input type="checkbox" id="filter-insured">
                                                <i class="fas fa-shield-alt" style="color: #10b981;"></i>
                                                <span class="filter-row-content">
                                                    <span class="filter-row-title">Insured</span>
                                                    <span class="filter-row-description">Your business carries appropriate liability insurance coverage</span>
                                                </span>
                                            </label>

                                            <!-- Local Filter -->
                                            <label class="filter-row-card">
                                                <input type="checkbox" id="filter-local">
                                                <i class="fas fa-map-marker-alt" style="color: #ef4444;"></i>
                                                <span class="filter-row-content">
                                                    <span class="filter-row-title">Local</span>
                                                    <span class="filter-row-description">Your business is locally owned and operated in your community</span>
                                                </span>
                                            </label>

                                            <!-- Accessible Filter -->
                                            <label class="filter-row-card">
                                                <input type="checkbox" id="filter-accessible">
                                                <i class="fas fa-wheelchair" style="color: #06b6d4;"></i>
                                                <span class="filter-row-content">
                                                    <span class="filter-row-title">Accessible</span>
                                                    <span class="filter-row-description">Your business is wheelchair accessible and accommodates people with disabilities</span>
                                                </span>
                                            </label>
                                        </div>

                                        <button type="submit" class="btn btn-primary" style="margin-top: 2rem;">
                                            <i class="fas fa-save"></i> Save Filter Settings
                                        </button>
                                    </form>
                                </div>
                            </div>
                            <!-- Verification & Legal panel removed -->
                                </div><!-- Close panels-container -->
                            </div><!-- Close settings-category -->
                        </div><!-- Close vendor-business-profile-section -->
                        <div id="vendor-settings-section" style="display: none;">
                            <!-- Personal Settings Category -->
                            <div class="settings-category">
                                <h2 class="settings-category-title">Personal settings</h2>
                                <div class="settings-grid">
                                    <div class="settings-card" data-settings-modal="vendor-personal-details">
                                        <div class="settings-card-icon">
                                            <i class="fas fa-user"></i>
                                        </div>
                                        <h3 class="settings-card-title">Personal details</h3>
                                        <p class="settings-card-description">Contact information, password, authentication methods and your active sessions.</p>
                                    </div>
                                    <div class="settings-card" data-settings-modal="vendor-communication-preferences">
                                        <div class="settings-card-icon">
                                            <i class="fas fa-envelope"></i>
                                        </div>
                                        <h3 class="settings-card-title">Communication preferences</h3>
                                        <p class="settings-card-description">Customise the emails, SMS, and push notifications you receive.</p>
                                    </div>
                                </div>
                            </div>

                            <!-- Account Settings Category -->
                            <div class="settings-category">
                                <h2 class="settings-category-title">Account settings</h2>
                                <div class="settings-grid">
                                    <div class="settings-card" data-settings-modal="vendor-security">
                                        <div class="settings-card-icon">
                                            <i class="fas fa-shield-alt"></i>
                                        </div>
                                        <h3 class="settings-card-title">Security</h3>
                                        <p class="settings-card-description">Manage your account security, authorised apps, and shared resources.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </main>
                </div>
            </div>
        </div>
    </div>

    <!-- Settings Modals -->
    <div id="settings-modal-overlay" class="settings-modal-overlay">
        <div class="settings-modal">
            <div class="settings-modal-header">
                <h2 id="settings-modal-title">Settings</h2>
                <button class="settings-modal-close">&times;</button>
            </div>
            <div class="settings-modal-body" id="settings-modal-content">
                <!-- Dynamic content will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Vendor Registration Modal -->
    <div id="vendor-registration-modal" class="modal" data-no-outside-close style="display: none;">
        <div class="modal-content" style="max-width: 95%; width: 1200px; height: 90vh; display: flex; flex-direction: column; background: var(--secondary);">
            <div class="modal-header">
                <h3 id="registration-title"><span class="step-number-badge">1</span>Step 1 of 9: Business Basics</h3>
                <span class="close-modal">×</span>
            </div>
            <div class="modal-body">
                <!-- Progress Bar -->
                <div style="margin-bottom: 2rem;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem; flex-wrap: wrap; gap: 0.5rem;">
                        <span class="step-indicator active" id="step-indicator-1"><span class="step-number">1</span><span class="step-label">Business Basics</span></span>
                        <span class="step-indicator" id="step-indicator-2"><span class="step-number">2</span><span class="step-label">Location Information</span></span>
                        <span class="step-indicator" id="step-indicator-3"><span class="step-number">3</span><span class="step-label">Services & Packages</span></span>
                        <span class="step-indicator" id="step-indicator-4"><span class="step-number">4</span><span class="step-label">Additional Details</span></span>
                        <span class="step-indicator" id="step-indicator-5"><span class="step-number">5</span><span class="step-label">Availability & Scheduling</span></span>
                        <span class="step-indicator" id="step-indicator-6"><span class="step-number">6</span><span class="step-label">Gallery & Media</span></span>
                        <span class="step-indicator" id="step-indicator-7"><span class="step-number">7</span><span class="step-label">Social Media</span></span>
                        <span class="step-indicator" id="step-indicator-8"><span class="step-number">8</span><span class="step-label">FAQ</span></span>
                        <span class="step-indicator" id="step-indicator-9"><span class="step-number">9</span><span class="step-label">Summary & Completion</span></span>
                    </div>
                    <div style="background-color: var(--border); height: 4px; border-radius: 2px; overflow: hidden;">
                        <div id="setup-progress-bar" style="background-color: var(--primary); height: 100%; width: 11.11%; transition: width 0.3s ease;"></div>
                    </div>
                </div>

                <div id="reg-status-message" style="text-align: center; color: var(--primary); margin-bottom: 1rem;"></div>
                
                <!-- Step 1: Business Basics -->
                <div class="setup-step" id="setup-step-1" style="display: block;">
                    <h4 class="form-section-title"><span class="step-number-badge">1</span>Business Basics</h4>
                    <p style="color: var(--text-light); margin-bottom: 1.5rem;">Tell us about your business and what services you provide.</p>
                    
                    <div class="form-row">
                        <div class="form-col">
                            <div class="form-group">
                                <label for="business-name">Business Name *</label>
                                <input type="text" id="business-name" required>
                            </div>
                        </div>
                        <div class="form-col">
                            <div class="form-group">
                                <label for="display-name">Display Name (for public listing)</label>
                                <input type="text" id="display-name">
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-col">
                            <div class="form-group">
                                <label for="business-email">Business Email *</label>
                                <input type="email" id="business-email" required>
                            </div>
                        </div>
                        <div class="form-col">
                            <div class="form-group">
                                <label for="business-phone">Business Phone *</label>
                                <input type="tel" id="business-phone" required>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-col">
                            <div class="form-group">
                                <label for="website-url">Website URL</label>
                                <input type="url" id="website-url" placeholder="https://yourwebsite.com">
                            </div>
                        </div>
                        <div class="form-col">
                            <div class="form-group">
                                <label for="years-in-business">Years in Business</label>
                                <input type="number" id="years-in-business" min="0" max="100">
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="business-description">Business Description <span style="color: red;">*</span></label>
                        <textarea id="business-description" rows="4" required placeholder="Describe your business and what makes you unique..." style="width: 100%; padding: 0.75rem; border: 1px solid var(--border); border-radius: var(--radius); font-family: inherit; font-size: 0.9rem; line-height: 1.4; resize: vertical; min-height: 120px; background-color: white;"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="tagline">Tagline (short description)</label>
                        <input type="text" id="tagline" placeholder="Your catchy business tagline...">
                    </div>
                    
                    <div class="form-row">
                        <div class="form-col">
                            <div class="form-group">
                                <label for="primary-category">Primary Category <span style="color: red;">*</span></label>
                                <select id="primary-category" required class="select2-category" style="width: 100%; padding: 0.75rem; border: 1px solid var(--border); border-radius: var(--radius); background-color: white; font-size: 0.9rem;">
                                    <option value="">Select primary category</option>
                                    <option value="beauty">Beauty</option>
                                    <option value="cake">Cake</option>
                                    <option value="catering">Catering</option>
                                    <option value="decor">Decor</option>
                                    <option value="entertainment">Entertainment</option>
                                    <option value="experiences">Experiences</option>
                                    <option value="fashion">Fashion</option>
                                    <option value="music">Music</option>
                                    <option value="photo">Photo</option>
                                    <option value="planner">Planner</option>
                                    <option value="stationery">Stationery</option>
                                    <option value="transport">Transport</option>
                                    <option value="venue">Venue</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-col">
                            <div class="form-group">
                                <label for="additional-categories">Additional Categories</label>
                                <select id="additional-categories" multiple class="select2-category" style="width: 100%; min-height: 50px; padding: 0.75rem; border: 1px solid var(--border); border-radius: var(--radius); background-color: white; font-size: 0.9rem;">
                                    <option value="beauty">Beauty</option>
                                    <option value="cake">Cake</option>
                                    <option value="catering">Catering</option>
                                    <option value="decor">Decor</option>
                                    <option value="entertainment">Entertainment</option>
                                    <option value="experiences">Experiences</option>
                                    <option value="fashion">Fashion</option>
                                    <option value="music">Music</option>
                                    <option value="photo">Photo</option>
                                    <option value="planner">Planner</option>
                                    <option value="stationery">Stationery</option>
                                    <option value="transport">Transport</option>
                                    <option value="venue">Venue</option>
                                </select>
                                <small style="color: var(--text-light);">Select multiple categories that apply to your business</small>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="price-level">Price Range <span style="color: red;">*</span></label>
                        <select id="price-level" required style="width: 100%; padding: 0.75rem; border: 1px solid var(--border); border-radius: var(--radius); background-color: white; font-size: 0.9rem;">
                            <option value="">Select price range</option>
                            <option value="$">$ - Inexpensive</option>
                            <option value="$$" selected>$$ - Moderate</option>
                            <option value="$$$">$$$ - Expensive</option>
                            <option value="$$$$">$$$$ - Luxury</option>
                        </select>
                        <small style="color: var(--text-light);">This helps clients find services that match their budget</small>
                    </div>
                    
                    <div style="display: flex; justify-content: flex-end; gap: 1rem; margin-top: 2rem;">
                        <button type="button" class="btn btn-primary" id="next-to-step-2">Next: Location Information</button>
                    </div>
                </div>

                <!-- Step 2: Location Information (ENHANCED) -->
                <div class="setup-step" id="setup-step-2" style="display: none;">
                    <h4 class="form-section-title"><span class="step-number-badge">2</span>Location Information</h4>
                    <p style="color: var(--text-light); margin-bottom: 1.5rem;">Tell us where your business is located and which areas you serve.</p>
                    
                    <h5 style="margin-bottom: 1rem; color: var(--primary);">Physical Office (Optional)</h5>
                    <div class="form-group">
                        <label for="business-address">Street Address</label>
                        <input type="text" id="business-address" placeholder="123 Main Street, Toronto, ON" class="google-autocomplete">
                        <small style="color: var(--text-light);">Start typing your Canadian address and select from suggestions</small>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-col">
                            <div class="form-group">
                                <label for="business-city">City</label>
                                <input type="text" id="business-city" readonly style="background-color: #f8f9fa;">
                            </div>
                        </div>
                        <div class="form-col">
                            <div class="form-group">
                                <label for="business-state">Province</label>
                                <input type="text" id="business-state" readonly style="background-color: #f8f9fa;">
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-col">
                            <div class="form-group">
                                <label for="business-country">Country</label>
                                <input type="text" id="business-country" value="Canada" readonly style="background-color: #f8f9fa; width: 100%; padding: 0.75rem; border: 1px solid var(--border); border-radius: var(--radius); font-size: 0.9rem;">
                            </div>
                        </div>
                        <div class="form-col">
                            <div class="form-group">
                                <label for="business-postal">Postal Code</label>
                                <input type="text" id="business-postal" readonly style="background-color: #f8f9fa;">
                            </div>
                        </div>
                    </div>
                    
                    <!-- Hidden fields for latitude and longitude -->
                    <input type="hidden" id="business-latitude">
                    <input type="hidden" id="business-longitude">

            <h5 style="margin: 2rem 0 1rem 0; color: var(--primary);">Service Areas <span style="color: red;">*</span></h5>
            <div class="form-group">
                <label for="additional-cities">Cities/Regions Served <span style="color: red;">*</span></label>
                <div id="additional-cities-container" style="min-height: 120px; border: 1px solid var(--border); border-radius: var(--radius); padding: 1rem; background-color: white;">
                    <input type="text" id="additional-cities-input" placeholder="Start typing a city name..." class="google-places-input" style="width: 100%; border: 1px solid var(--border); border-radius: 6px; padding: 0.75rem; margin-bottom: 0.5rem;" required>
                    <div id="selected-cities" style="display: flex; flex-wrap: wrap; gap: 0.5rem;">
                        <!-- Selected cities will appear here as tags -->
                    </div>
                </div>
                <small style="color: var(--text-light); font-size: 0.8rem;">Type city names and select from Google's suggestions. You must specify at least one service area. Selected cities will appear as tags above.</small>
            </div>
                    
                    <div style="display: flex; justify-content: space-between; gap: 1rem; margin-top: 2rem;">
                        <button type="button" class="btn btn-outline" id="back-to-step-1">Back: Business Basics</button>
                        <button type="button" class="btn btn-primary" id="next-to-step-3">Next: Services & Packages</button>
                    </div>
                </div>

                <!-- Step 3: Services & Packages -->
                <div class="setup-step" id="setup-step-3" style="display: none;">
                    <h4 class="form-section-title"><span class="step-number-badge">3</span>Services & Packages</h4>
                    <p style="color: var(--text-light); margin-bottom: 1.5rem;">Select services from our curated list that match your business categories and customize them with your pricing.</p>
                    
                    <!-- Loading State -->
                    <div id="predefined-services-loading" style="text-align: center; padding: 2rem; color: var(--text-light);">
                        <div class="spinner" style="margin: 0 auto;"></div>
                    </div>
                    
                    <!-- Predefined Services Section -->
                    <div id="predefined-services-container" style="display: none;">
                        <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 1.5rem;">
                            <h5 style="margin: 0; color: var(--primary);">Available Services</h5>
                            <span id="selected-services-count" style="color: var(--text-light); font-size: 0.9rem;">0 services selected</span>
                        </div>
                        
                        <div id="predefined-services-grid" style="display: flex; flex-direction: column; gap: 1rem; margin-bottom: 2rem; width: 100%;">
                            <!-- Predefined services will be loaded here -->
                        </div>
                    </div>
                    
                    <!-- No Services Available Message -->
                    <div id="no-services-message" style="display: none; text-align: center; padding: 3rem; color: var(--text-light);">
                        <i class="fas fa-info-circle" style="font-size: 2rem; margin-bottom: 1rem; color: var(--primary);"></i>
                        <h6 style="margin-bottom: 0.5rem;">No predefined services available</h6>
                        <p style="margin: 0;">No services match your selected categories. You can add custom services in the next step.</p>
                    </div>
                    
                    <div style="display: flex; justify-content: space-between; gap: 1rem; margin-top: 2rem;">
                        <button type="button" class="btn btn-outline" id="back-to-step-2">Back: Location Information</button>
                        <button type="button" class="btn btn-primary" id="next-to-step-4">Next: Additional Details</button>
                    </div>
                </div>

                <!-- Step 4: Additional Details -->
                <div class="setup-step" id="setup-step-4" style="display: none;">
                    <h4 class="form-section-title"><span class="step-number-badge">4</span>Additional Details</h4>
                    <p style="color: var(--text-light); margin-bottom: 1.5rem;">Please answer the following questions related to your primary category.</p>
                    
                    <div id="category-questions-container" style="margin-bottom: 1rem;">
                        <!-- Category-specific questions will be dynamically loaded here -->
                    </div>
                    
                    <div style="display: flex; justify-content: space-between; gap: 1rem; margin-top: 2rem;">
                        <button type="button" class="btn btn-outline" id="back-to-step-3">Back: Services & Packages</button>
                        <button type="button" class="btn btn-primary" id="next-to-step-5">Next: Availability & Scheduling</button>
                    </div>
                </div>

                <!-- Step 5: Availability & Scheduling -->
                <div class="setup-step" id="setup-step-5" style="display: none;">
                    <h4 class="form-section-title"><span class="step-number-badge">5</span>Availability & Scheduling</h4>
                    <p style="color: var(--text-light); margin-bottom: 1.5rem;">Set your business hours and availability preferences.</p>
                    
                    <h5 style="margin-bottom: 1rem; color: var(--primary);">Regular Business Hours</h5>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem;">
                        <div class="availability-day">
                            <label style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem;">
                                <input type="checkbox" id="available-0">
                                <strong>Sunday</strong>
                            </label>
                            <div style="display: flex; gap: 0.5rem;">
                                <input type="time" id="start-time-0" style="flex: 1;">
                                <span style="align-self: center;">to</span>
                                <input type="time" id="end-time-0" style="flex: 1;">
                            </div>
                        </div>
                        <div class="availability-day">
                            <label style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem;">
                                <input type="checkbox" id="available-1" checked>
                                <strong>Monday</strong>
                            </label>
                            <div style="display: flex; gap: 0.5rem;">
                                <input type="time" id="start-time-1" style="flex: 1;">
                                <span style="align-self: center;">to</span>
                                <input type="time" id="end-time-1" style="flex: 1;">
                            </div>
                        </div>
                        <div class="availability-day">
                            <label style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem;">
                                <input type="checkbox" id="available-2" checked>
                                <strong>Tuesday</strong>
                            </label>
                            <div style="display: flex; gap: 0.5rem;">
                                <input type="time" id="start-time-2" style="flex: 1;">
                                <span style="align-self: center;">to</span>
                                <input type="time" id="end-time-2" style="flex: 1;">
                            </div>
                        </div>
                        <div class="availability-day">
                            <label style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem;">
                                <input type="checkbox" id="available-3" checked>
                                <strong>Wednesday</strong>
                            </label>
                            <div style="display: flex; gap: 0.5rem;">
                                <input type="time" id="start-time-3" style="flex: 1;">
                                <span style="align-self: center;">to</span>
                                <input type="time" id="end-time-3" style="flex: 1;">
                            </div>
                        </div>
                        <div class="availability-day">
                            <label style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem;">
                                <input type="checkbox" id="available-4" checked>
                                <strong>Thursday</strong>
                            </label>
                            <div style="display: flex; gap: 0.5rem;">
                                <input type="time" id="start-time-4" style="flex: 1;">
                                <span style="align-self: center;">to</span>
                                <input type="time" id="end-time-4" style="flex: 1;">
                            </div>
                        </div>
                        <div class="availability-day">
                            <label style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem;">
                                <input type="checkbox" id="available-5" checked>
                                <strong>Friday</strong>
                            </label>
                            <div style="display: flex; gap: 0.5rem;">
                                <input type="time" id="start-time-5" style="flex: 1;">
                                <span style="align-self: center;">to</span>
                                <input type="time" id="end-time-5" style="flex: 1;">
                            </div>
                        </div>
                        <div class="availability-day">
                            <label style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem;">
                                <input type="checkbox" id="available-6">
                                <strong>Saturday</strong>
                            </label>
                            <div style="display: flex; gap: 0.5rem;">
                                <input type="time" id="start-time-6" style="flex: 1;">
                                <span style="align-self: center;">to</span>
                                <input type="time" id="end-time-6" style="flex: 1;">
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-col">
                            <div class="form-group">
                                <label for="lead-time">Minimum booking lead time <span style="color: red;">*</span></label>
                                <select id="lead-time" required style="width: 100%; padding: 0.75rem; border: 1px solid var(--border); border-radius: var(--radius); background-color: white; font-size: 0.9rem;">
                                    <option value="same-day">Same day</option>
                                    <option value="1-day" selected>1 day</option>
                                    <option value="3-days">3 days</option>
                                    <option value="1-week">1 week</option>
                                    <option value="2-weeks">2 weeks</option>
                                    <option value="1-month">1 month</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-col">
                            <div class="form-group">
                                <label for="availability-dates">Available Dates <span style="color: red;">*</span></label>
                                <input type="date" id="availability-dates" required style="width: 100%; padding: 0.75rem; border: 1px solid var(--border); border-radius: var(--radius); background-color: white; font-size: 0.9rem;">
                                <small style="color: var(--text-light);">You must provide at least one available date</small>
                            </div>
                        </div>
                    </div>
                    
                    <div style="display: flex; justify-content: space-between; gap: 1rem; margin-top: 2rem;">
                        <button type="button" class="btn btn-outline" id="back-to-step-4">Back: Additional Details</button>
                        <button type="button" class="btn btn-primary" id="next-to-step-6">Next: Gallery & Media</button>
                    </div>
                </div>

                <!-- Step 6: Gallery & Media -->
                <div class="setup-step" id="setup-step-6" style="display: none;">
                    <h4 class="form-section-title"><span class="step-number-badge">6</span>Gallery & Media</h4>
                    <p style="color: var(--text-light); margin-bottom: 1.5rem;">Upload images to showcase your work and attract potential clients.</p>
                    
                    <h5 style="margin-bottom: 1rem; color: var(--primary);">Featured Image</h5>
                    <div class="form-group">
                        <label for="featured-image">Main Profile Image <span style="color: red;">*</span></label>
                        <input type="file" id="featured-image" accept="image/*" required>
                        <small style="color: var(--text-light);">This will be the main image displayed on your profile. Recommended size: 800x600px</small>
                        <div id="featured-image-preview" style="margin-top: 1rem; display: none;">
                            <img id="featured-image-display" style="max-width: 300px; max-height: 200px; border-radius: var(--radius); border: 1px solid var(--border);">
                            <p style="margin-top: 0.5rem; font-size: 0.9rem; color: var(--text-light);">Preview of your main profile image</p>
                        </div>
                    </div>
                    
                    <h5 style="margin: 2rem 0 1rem 0; color: var(--primary);">Gallery Images</h5>
                    <div class="form-group">
                        <label for="gallery-images">Additional Images</label>
                        <input type="file" id="gallery-images" accept="image/*" multiple>
                        <small style="color: var(--text-light);">Upload multiple images to showcase your work. You can select up to 20 images.</small>
                        <div id="selected-images-list" style="margin-top: 1rem; padding: 1rem; border: 1px solid var(--border); border-radius: var(--radius); background-color: #f8f9fa; display: none;">
                            <h6 style="margin-bottom: 0.5rem; color: var(--primary);">Selected Images:</h6>
                            <div id="image-names-list" style="font-size: 0.9rem; color: var(--text-light);"></div>
                        </div>
                    </div>
                    
                    <div id="image-preview" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(120px, 1fr)); gap: 0.5rem; margin-top: 1rem;">
                        <!-- Image previews will appear here -->
                    </div>
                    
                    <!-- Portfolio Links section removed as requested -->
                    
                    <div style="display: flex; justify-content: space-between; gap: 1rem; margin-top: 2rem;">
                        <button type="button" class="btn btn-outline" id="back-to-step-5">Back: Availability & Scheduling</button>
                        <button type="button" class="btn btn-primary" id="next-to-step-7">Next: Social Media</button>
                    </div>
</div>

                <!-- Step 7: Social Media -->
                <div class="setup-step" id="setup-step-7" style="display: none;">
                    <h4 class="form-section-title"><span class="step-number-badge">7</span>Social Media</h4>
                    <p style="color: var(--text-light); margin-bottom: 1.5rem;">Add your social media profiles to help clients connect with you.</p>
                    
                    <h5 style="margin-bottom: 1rem; color: var(--primary);">Social Media Profiles</h5>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1rem;">
                        <div class="form-group">
                            <label for="social-facebook" style="display: flex; align-items: center; gap: 0.5rem;">
                                <i class="fab fa-facebook" style="color: #1877F2; font-size: 1.2rem;"></i>
                                Facebook
                            </label>
                            <div style="display: flex; align-items: center; border: 1px solid var(--border); border-radius: var(--radius); background-color: white;">
                                <span style="padding: 0.75rem 0.5rem 0.75rem 0.75rem; color: var(--text-light); font-size: 0.9rem; background-color: var(--secondary); border-right: 1px solid var(--border);">facebook.com/</span>
                                <input type="text" id="social-facebook" placeholder="yourpage" style="border: none; outline: none; padding: 0.75rem; flex: 1; font-size: 0.9rem; background: transparent;" data-prefix="https://facebook.com/">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="social-instagram" style="display: flex; align-items: center; gap: 0.5rem;">
                                <i class="fab fa-instagram" style="color: #E4405F; font-size: 1.2rem;"></i>
                                Instagram
                            </label>
                            <div style="display: flex; align-items: center; border: 1px solid var(--border); border-radius: var(--radius); background-color: white;">
                                <span style="padding: 0.75rem 0.5rem 0.75rem 0.75rem; color: var(--text-light); font-size: 0.9rem; background-color: var(--secondary); border-right: 1px solid var(--border);">instagram.com/</span>
                                <input type="text" id="social-instagram" placeholder="youraccount" style="border: none; outline: none; padding: 0.75rem; flex: 1; font-size: 0.9rem; background: transparent;" data-prefix="https://instagram.com/">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="social-twitter" style="display: flex; align-items: center; gap: 0.5rem;">
                                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="#000000" style="margin-right: 0.25rem;"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
                                X
                            </label>
                            <div style="display: flex; align-items: center; border: 1px solid var(--border); border-radius: var(--radius); background-color: white;">
                                <span style="padding: 0.75rem 0.5rem 0.75rem 0.75rem; color: var(--text-light); font-size: 0.9rem; background-color: var(--secondary); border-right: 1px solid var(--border);">x.com/</span>
                                <input type="text" id="social-twitter" placeholder="youraccount" style="border: none; outline: none; padding: 0.75rem; flex: 1; font-size: 0.9rem; background: transparent;" data-prefix="https://x.com/">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="social-linkedin" style="display: flex; align-items: center; gap: 0.5rem;">
                                <i class="fab fa-linkedin" style="color: #0077B5; font-size: 1.2rem;"></i>
                                LinkedIn
                            </label>
                            <div style="display: flex; align-items: center; border: 1px solid var(--border); border-radius: var(--radius); background-color: white;">
                                <span style="padding: 0.75rem 0.5rem 0.75rem 0.75rem; color: var(--text-light); font-size: 0.9rem; background-color: var(--secondary); border-right: 1px solid var(--border);">linkedin.com/in/</span>
                                <input type="text" id="social-linkedin" placeholder="yourprofile" style="border: none; outline: none; padding: 0.75rem; flex: 1; font-size: 0.9rem; background: transparent;" data-prefix="https://linkedin.com/in/">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="social-youtube" style="display: flex; align-items: center; gap: 0.5rem;">
                                <i class="fab fa-youtube" style="color: #FF0000; font-size: 1.2rem;"></i>
                                YouTube
                            </label>
                            <div style="display: flex; align-items: center; border: 1px solid var(--border); border-radius: var(--radius); background-color: white;">
                                <span style="padding: 0.75rem 0.5rem 0.75rem 0.75rem; color: var(--text-light); font-size: 0.9rem; background-color: var(--secondary); border-right: 1px solid var(--border);">youtube.com/</span>
                                <input type="text" id="social-youtube" placeholder="yourchannel" style="border: none; outline: none; padding: 0.75rem; flex: 1; font-size: 0.9rem; background: transparent;" data-prefix="https://youtube.com/">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="social-tiktok" style="display: flex; align-items: center; gap: 0.5rem;">
                                <i class="fab fa-tiktok" style="color: #6b7280; font-size: 1.2rem;"></i>
                                TikTok
                            </label>
                            <div style="display: flex; align-items: center; border: 1px solid var(--border); border-radius: var(--radius); background-color: white;">
                                <span style="padding: 0.75rem 0.5rem 0.75rem 0.75rem; color: var(--text-light); font-size: 0.9rem; background-color: var(--secondary); border-right: 1px solid var(--border);">tiktok.com/@</span>
                                <input type="text" id="social-tiktok" placeholder="youraccount" style="border: none; outline: none; padding: 0.75rem; flex: 1; font-size: 0.9rem; background: transparent;" data-prefix="https://tiktok.com/@">
                            </div>
                        </div>
                    </div>
                    

                    
                    <div style="display: flex; justify-content: space-between; gap: 1rem; margin-top: 2rem;">
                        <button type="button" class="btn btn-outline" id="back-to-step-6">Back: Gallery & Media</button>
                        <button type="button" class="btn btn-primary" id="next-to-step-8">Next: FAQ</button>
                    </div>
                </div>

                <!-- Step 8: FAQ Section -->
                <div class="setup-step" id="setup-step-8" style="display: none;">
                    <h4 class="form-section-title"><span class="step-number-badge">8</span>FAQ Section</h4>
                    <p style="color: var(--text-light); margin-bottom: 1.5rem;">Add frequently asked questions to help potential clients understand your services better.</p>
                    
                    <h5 style="margin-bottom: 1rem; color: var(--primary);">Frequently Asked Questions</h5>
                    <div id="faqs-list" style="margin-bottom: 1rem;">
                        <!-- FAQs will be listed here -->
                    </div>
                    <button type="button" class="btn btn-outline" id="add-faq-btn">Add FAQ</button>
                    
                    <!-- FAQ Form -->
                    <div id="faq-form" style="display: none; margin-top: 1rem; padding: 1.5rem; background: white; border: 1px solid var(--border); border-radius: var(--radius); box-shadow: 0 2px 4px rgba(0,0,0,0.05);">
                        <h5 style="margin-bottom: 1rem; color: var(--primary);">Add New FAQ</h5>
                        
                        <div class="form-group">
                            <label>Question</label>
                            <input type="text" id="faq-question" required placeholder="What is your typical response time?">
                        </div>
                        
                        <div class="form-group">
                            <label>Answer Type</label>
                            <select id="faq-answer-type" style="width: 100%; padding: 0.75rem; border: 1px solid var(--border); border-radius: var(--radius);">
                                <option value="text">Text Answer</option>
                                <option value="multiple_choice">Multiple Choice</option>
                            </select>
                        </div>
                        
                        <div id="faq-answer-container">
                            <div id="text-answer-section" class="form-group">
                                <label>Answer</label>
                                <textarea id="faq-answer" rows="3" placeholder="I typically respond to inquiries within 24 hours..."></textarea>
                            </div>
                            
                            <div id="multiple-choice-section" class="form-group" style="display: none;">
                                <label>Multiple Choice Options</label>
                                <div id="faq-options-container" style="margin-bottom: 0.5rem;">
                                    <p style="color: var(--text-light); font-size: 0.9rem;">No options added yet. Click "Add Option" to add choices.</p>
                                </div>
                                <button type="button" class="btn btn-outline btn-sm" id="add-option-to-faq" style="font-size: 0.85rem; padding: 0.4rem 0.8rem;">Add Option</button>
                            </div>
                        </div>
                        
                        <div style="display: flex; gap: 0.5rem; margin-top: 1rem;">
                            <button type="button" class="btn btn-primary" id="add-faq-item-btn">Add FAQ</button>
                            <button type="button" class="btn btn-outline" onclick="document.getElementById('faq-form').style.display='none'; clearFaqForm();">Cancel</button>
                        </div>
                    </div>
                    
                    <div style="display: flex; justify-content: space-between; gap: 1rem; margin-top: 2rem;">
                        <button type="button" class="btn btn-outline" id="back-to-step-7">Back: Additional Details</button>
                        <button type="button" class="btn btn-primary" id="next-to-step-9">Next: Summary</button>
                    </div>
                </div>

                <!-- Step 9: Summary -->
                <div class="setup-step" id="setup-step-9" style="display: none;">
                    <h4 class="form-section-title"><span class="step-number-badge">9</span>Setup Summary</h4>
                    <p style="color: var(--text-light); margin-bottom: 1.5rem;">Review all the information you've entered before completing your vendor profile setup.</p>
                    
                    <div id="setup-summary-content" style="background-color: var(--secondary); padding: 1.5rem; border-radius: var(--radius); margin-bottom: 2rem;">
                        <!-- Summary content will be dynamically populated here -->
                        <div class="summary-loading"><div style="text-align: center; padding: 2rem;"><div class="spinner" style="margin: 0 auto;"></div></div></div>
                        <div id="summary-error" style="display: none; color: var(--accent); padding: 1rem; background-color: #fee; border-radius: var(--radius);">Failed to load summary. Please check your information and try again.</div>
                    </div>
                    
                    <div style="background-color: var(--secondary); padding: 1.5rem; border-radius: var(--radius); margin-bottom: 2rem;">
                        <p style="margin-bottom: 1rem;"><i class="fas fa-star" style="color: var(--primary); margin-right: 0.5rem;"></i><strong>Congratulations!</strong> You're about to complete your vendor profile setup.</p>
                        <p><strong>Once completed, your profile will be live and visible to potential clients!</strong></p>
                    </div>
                    
                    <div style="display: flex; justify-content: space-between; gap: 1rem; margin-top: 2rem;">
                        <button type="button" class="btn btn-outline" id="back-to-step-8">Back: FAQ</button>
                        <button type="button" class="btn btn-primary" id="complete-setup-btn" style="background-color: #28a745; border-color: #28a745;"><i class="fas fa-rocket" style="margin-right: 0.5rem;"></i>Complete Setup & Go Live!</button>
                    </div>
                </div>




            </div>
        </div>
    </div>


    <!-- Vendor Modal (working version) -->
    <div id="vendor-modal" class="modal" style="display:none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-vendor-name">Vendor Name</h3>
                <span class="close-modal">×</span>
            </div>
            <div class="modal-body">
                <!-- Image Gallery -->
                <div id="modal-image-gallery" class="image-gallery">
                    <!-- Images will be loaded dynamically here -->
                </div>

                <!-- Header Info -->
                <div class="vendor-detail-header">
                    <div class="vendor-detail-image">
                        <!-- Image or placeholder will be rendered here -->
                    </div>
                    <div class="vendor-detail-info">
                        <h2 id="modal-vendor-name-full" class="vendor-detail-name">Vendor Name</h2>
                        <div class="vendor-detail-location"><i class="fas fa-map-marker-alt" style="margin-right: 0.5rem;"></i><span id="modal-vendor-location">Location</span></div>
                        <div class="vendor-detail-ratings">
                            <div class="review-rating" id="modal-vendor-rating">
                                <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i> <span>(0.0) | 0 Reviews</span>
                            </div>
                        </div>
                        <div class="vendor-detail-features">
                            <div class="feature">
                                <span class="feature-icon" id="modal-vendor-category-icon"></span>
                                <span id="modal-vendor-category-name"></span>
                            </div>
                            <div class="feature">
                                <span class="feature-icon"><i class="fas fa-star"></i></span>
                                <span id="modal-vendor-services-offered">Services</span>
                            </div>
                        </div>
                        <p class="vendor-detail-price" id="modal-vendor-price"></p>
                    </div>
                </div>

                <!-- About Us -->
                <h3 class="services-title">About Us</h3>
                <p id="modal-vendor-description" class="vendor-detail-description">
                    Vendor description will appear here...
                </p>

                <!-- Services -->
                <div id="services-section" class="services-section">
                    <h3 class="services-title">Available Services</h3>
                    <!-- Services will be rendered here -->
                </div>

                <!-- Booking Form -->
                <div class="booking-flow">
                    <h3 class="services-title">Book This Vendor</h3>
                    <div class="form-group">
                        <label for="booking-date-picker" class="form-label">Select a Date and Time</label>
                        <input type="text" id="booking-date-picker" class="form-control" placeholder="Choose a date and time">
                    </div>
                    <button class="btn btn-primary" id="open-booking-modal-btn">
                        Book Now
                    </button>
                    <button class="btn btn-outline" id="open-chat-btn">
                        Message Vendor
                    </button>
                </div>

                <!-- Booking Calendar Section (Moved inside modal-body) -->
                <div class="booking-calendar-section">
                    <h3 class="calendar-title">Select Date &amp; Time</h3>
                    <div id="booking-calendar"></div>
                    <div class="time-slots" id="time-slots"></div>
                </div>

                <!-- Reviews Section -->
                <div class="reviews-section">
                    <h3 class="reviews-title">Customer Reviews</h3>
                    <div id="modal-reviews-list">
                        <!-- Reviews will be rendered here -->
                    </div>

                    ${currentUser ? `
                        <button class="btn btn-outline add-review-btn" id="show-review-form">Add Review</button>
                        <div class="review-form" id="review-form" style="display: none;">
                            <div class="rating-input">
                                <span class="rating-star" data-rating="1">â˜†</span>
                                <span class="rating-star" data-rating="2">â˜†</span>
                                <span class="rating-star" data-rating="3">â˜†</span>
                                <span class="rating-star" data-rating="4">â˜†</span>
                                <span class="rating-star" data-rating="5">â˜†</span>
                            </div>
                            <textarea class="review-textarea" id="review-text" placeholder="Share your experience..."></textarea>
                            <button class="btn btn-primary" id="submit-review">Submit Review</button>
                        </div>
                    ` : '<p><a href="#" id="login-to-review" style="color: var(--primary);">Log in</a> to leave a review</p>'}
                </div>

                <!-- Chat Section -->
                <div class="chat-section">
                    <h3 class="chat-title">Message Vendor</h3>
                    <div class="chat-container">
                        <div class="chat-messages" id="chat-messages">
                            <!-- Messages will load here -->
                        </div>
                        <div class="chat-input">
                            <input type="text" placeholder="Type your message..." id="chat-input">
                            <button class="btn btn-primary" id="send-btn">Send</button>
                        </div>
                    </div>
                </div>

                <!-- Payment Section -->
                <div class="payment-section" id="payment-section" style="display: none;">
                    <h3 class="payment-title">Payment Information</h3>
                    <div class="payment-form">
                        <div class="form-group">
                            <label>Cardholder Name</label>
                            <input type="text" id="cardholder-name">
                        </div>
                        <div class="card-element" id="card-element"></div>
                        <button class="btn btn-primary" id="pay-now-btn">Pay Now</button>
                    </div>
                </div>

                <div class="vendor-actions" style="margin-top: 2rem; justify-content: center;">
                    <button class="btn btn-primary" id="book-now-btn">Book Now</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- New Chat Modal -->
    <div id="chat-modal" class="modal chat-modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Chat with <span id="chat-vendor-name">Vendor</span></h3>
                <span class="close-modal">×</span>
            </div>
            <div class="modal-body">
                <div class="chat-container">
                    <div class="chat-messages" id="profile-chat-messages">
                        <!-- Messages will load here -->
                    </div>
                    <div class="chat-input">
                        <input type="text" placeholder="Type your message..." id="profile-chat-input">
                        <button class="btn btn-primary" id="profile-send-btn">Send</button>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <!-- Booking Confirmation -->
    <div id="confirmation-modal" class="booking-confirmation" style="display: none;">
        <div class="confirmation-content">
            <h3><i class="fas fa-check-circle" style="color: #28a745; margin-right: 0.5rem;"></i>Booking Confirmed!</h3>
            <p><strong>Vendor:</strong> <span id="conf-venue-name"></span></p>
            <p><strong>Services:</strong> <span id="conf-services"></span></p>
            <p><strong>Date:</strong> <span id="conf-date"></span></p>
            <p><strong>Time:</strong> <span id="conf-time"></span></p>
            <p><strong>Confirmation #:</strong> <span id="conf-id"></span></p>
            <p>A confirmation email has been sent to your registered email address.</p>
            <button class="btn btn-primary" id="conf-done-btn">Done</button>
        </div>
    </div>

    <!-- Location Permission Modal -->
    <div id="location-permission" class="location-permission" style="display: none;">
        <div class="location-content">
            <h3>Find Vendors Near You</h3>
            <p>PlanHive would like to access your location to show vendors near you.</p>
            <div style="display: flex; gap: 1rem; justify-content: center; margin-top: 1.5rem;">
                <button class="btn btn-outline" id="deny-location">Not Now</button>
                <button class="btn btn-primary" id="allow-location">
                    Allow
                    <span id="location-loading" class="location-loading" style="display: none;"></span>
                </button>
            </div>
        </div>
    </div>

    <!-- Profile Modal -->
    <div id="profile-modal" class="modal" style="display: none;">
        <div class="modal-content" style="max-width: 400px;">
            <div class="modal-header">
                <h3 id="profile-modal-title">My Account</h3>
                <span class="close-modal" id="close-profile-modal">×</span>
            </div>
            <div class="modal-body">
                <!-- Login Form (shown by default) -->
                <div id="login-form" style="display: none;">
                    <div style="margin-bottom: 1.5rem;">
                        <label style="display: block; margin-bottom: 0.5rem; font-weight: 500;">Email</label>
                        <input type="email" id="login-email" style="width: 100%; padding: 0.75rem; border: 1px solid var(--border); border-radius: var(--radius); margin-bottom: 1rem;">
                    </div>
                    <div style="margin-bottom: 1.5rem;">
                        <label style="display: block; margin-bottom: 0.5rem; font-weight: 500;">Password</label>
                        <input type="password" id="login-password" style="width: 100%; padding: 0.75rem; border: 1px solid var(--border); border-radius: var(--radius); margin-bottom: 1rem;">
                    </div>
                    <button class="btn btn-primary" id="login-btn" style="width: 100%; margin-bottom: 1rem;">Log In</button>
                    <div style="text-align: center; margin-bottom: 1.5rem;">
                        <a href="#" id="show-signup" style="color: var(--primary); text-decoration: none; font-size: 0.9rem;">Don't have an account? Sign up</a>
                    </div>
                    <div style="display: flex; align-items: center; margin-bottom: 1.5rem;">
                        <div style="flex: 1; height: 1px; background-color: var(--border);"></div>
                        <div style="padding: 0 1rem; color: var(--text-light); font-size: 0.9rem;">OR</div>
                        <div style="flex: 1; height: 1px; background-color: var(--border);"></div>
                    </div>
                    <div style="display: flex; flex-direction: column; gap: 0.75rem;">
                        <button class="btn btn-outline" id="google-login" style="width: 100%; display: flex; align-items: center; justify-content: center; gap: 0.5rem;">
                            <img src="https://upload.wikimedia.org/wikipedia/commons/c/c1/Google_%22G%22_logo.svg" width="20" height="20">
                            <span>Continue with Google</span>
                        </button>
                        <button class="btn btn-outline" id="facebook-login" style="width: 100%; display: flex; align-items: center; justify-content: center; gap: 0.5rem;">
                            <img src="https://upload.wikimedia.org/wikipedia/commons/5/51/Facebook_f_logo_%282019%29.svg" width="20" height="20">
                            <span>Continue with Facebook</span>
                        </button>
                    </div>
                </div>

                <!-- Two-Factor Verification (hidden by default) -->
                <div id="twofa-form" style="display: none; flex-direction: column;">
                    <div style="margin-bottom: 1rem; color: var(--text-light); font-size: 0.95rem;">
                        Enter the 6-digit code we sent to your email: <strong id="twofa-email"></strong>
                    </div>
                    <div style="margin-bottom: 1rem;">
                        <label style="display: block; margin-bottom: 0.5rem; font-weight: 500;">Verification Code</label>
                        <div id="twofa-code-inputs" style="display: flex; justify-content: space-between; gap: 0.5rem;">
                            <input class="otp-digit" type="text" inputmode="numeric" maxlength="1" placeholder="_" aria-label="Digit 1" style="width: 44px; height: 48px; text-align: center; font-size: 1.25rem; border: 1px solid var(--border); border-radius: var(--radius);">
                            <input class="otp-digit" type="text" inputmode="numeric" maxlength="1" placeholder="_" aria-label="Digit 2" style="width: 44px; height: 48px; text-align: center; font-size: 1.25rem; border: 1px solid var(--border); border-radius: var(--radius);">
                            <input class="otp-digit" type="text" inputmode="numeric" maxlength="1" placeholder="_" aria-label="Digit 3" style="width: 44px; height: 48px; text-align: center; font-size: 1.25rem; border: 1px solid var(--border); border-radius: var(--radius);">
                            <input class="otp-digit" type="text" inputmode="numeric" maxlength="1" placeholder="_" aria-label="Digit 4" style="width: 44px; height: 48px; text-align: center; font-size: 1.25rem; border: 1px solid var(--border); border-radius: var(--radius);">
                            <input class="otp-digit" type="text" inputmode="numeric" maxlength="1" placeholder="_" aria-label="Digit 5" style="width: 44px; height: 48px; text-align: center; font-size: 1.25rem; border: 1px solid var(--border); border-radius: var(--radius);">
                            <input class="otp-digit" type="text" inputmode="numeric" maxlength="1" placeholder="_" aria-label="Digit 6" style="width: 44px; height: 48px; text-align: center; font-size: 1.25rem; border: 1px solid var(--border); border-radius: var(--radius);">
                            <input type="hidden" id="twofa-code" value="">
                        </div>
                    </div>
                    <button class="btn btn-primary" id="verify-2fa-btn" style="width: 100%; margin-bottom: 0.75rem;">Verify</button>
                    <div style="display: flex; justify-content: space-between; gap: 0.75rem; margin-top: auto;">
                        <button class="btn btn-outline" id="resend-2fa-btn" style="flex: 1;">Resend Code</button>
                        <button class="btn btn-outline" id="back-to-login-btn" style="flex: 1;">Back</button>
                    </div>
                </div>

                <!-- Signup Form (hidden by default) -->
                <div id="signup-form" style="display: none;">
                    <div style="margin-bottom: 1.5rem;">
                        <label style="display: block; margin-bottom: 0.5rem; font-weight: 500;">Full Name</label>
                        <input type="text" id="signup-name" style="width: 100%; padding: 0.75rem; border: 1px solid var(--border); border-radius: var(--radius); margin-bottom: 1rem;">
                    </div>
                    <div style="margin-bottom: 1.5rem;">
                        <label style="display: block; margin-bottom: 0.5rem; font-weight: 500;">Email</label>
                        <input type="email" id="signup-email" style="width: 100%; padding: 0.75rem; border: 1px solid var(--border); border-radius: var(--radius); margin-bottom: 1rem;">
                    </div>
                    <div style="margin-bottom: 1.5rem;">
                        <label style="display: block; margin-bottom: 0.5rem; font-weight: 500;">Password</label>
                        <input type="password" id="signup-password" style="width: 100%; padding: 0.75rem; border: 1px solid var(--border); border-radius: var(--radius); margin-bottom: 1rem;">
                    </div>
                    <div class="form-group" style="margin-bottom: 1.5rem;">
                        <label style="display: block; margin-bottom: 0.5rem; font-weight: 500;">Account Type</label>
                        <select id="account-type" style="width: 100%; padding: 0.75rem; border: 1px solid var(--border); border-radius: var(--radius);">
                            <option value="client">Client (I want to book vendors)</option>
                            <option value="vendor">Vendor (I provide services)</option>
                        </select>
                    </div>
                    <button class="btn btn-primary" id="signup-btn" style="width: 100%; margin-bottom: 1rem;">Create Account</button>
                    <div style="text-align: center;">
                        <a href="#" id="show-login" style="color: var(--primary); text-decoration: none; font-size: 0.9rem;">Already have an account? Log in</a>
                    </div>
                </div>

                <!-- Logged In View (hidden by default) -->
                <div id="logged-in-view" style="display: block; text-align: center;">
                    <div class="profile-avatar" id="profile-avatar">S</div>
                    <h3 style="margin-bottom: 0.5rem;" id="profile-name">User Name</h3>
                    <p style="color: var(--text-light); margin-bottom: 1.5rem;" id="profile-email">user@example.com</p>
                    <button class="btn btn-primary" id="view-dashboard-btn" style="width: 100%; margin-bottom: 1rem;">View Dashboard</button>
                    <button class="btn btn-outline" id="logout-btn" style="width: 100%;">Log Out</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Notifications Dropdown -->
    <div id="notifications-dropdown" class="notifications-dropdown" style="display: none;">
        <div class="dropdown-header">
            <h3>Notifications</h3>
            <button id="mark-all-read" class="btn btn-sm">Mark All Read</button>
        </div>
        <div class="notification-tabs">
            <button class="notification-tab active" data-tab="all">All</button>
            <button class="notification-tab" data-tab="unread">Unread</button>
        </div>
        <div id="notifications-list" class="notifications-list">
            <div class="loading-notifications">
                <div class="spinner" style="margin: 0 auto;"></div>
            </div>
        </div>
        <div class="dropdown-footer">
            <a href="#" onclick="displayUserDashboard('client', 'dashboard')" class="view-all-link">View All Notifications</a>
        </div>
    </div>

    <!-- Profile Dropdown -->
    <div id="profile-dropdown" class="profile-dropdown" style="display: none;">
        <div class="header">
            <div class="avatar" id="profile-dd-avatar">S</div>
            <div class="info">
                <div class="name" id="profile-dd-name">User Name</div>
                <div class="email" id="profile-dd-email">user@example.com</div>
            </div>
        </div>
        <ul class="menu">
            <li><a href="#" id="profile-view-dashboard"><i class="fas fa-th-large"></i><span>View Dashboard</span></a></li>
            <li class="divider"></li>
            <li><a href="#" id="profile-logout" class="logout"><i class="fas fa-sign-out-alt"></i><span>Log Out</span></a></li>
        </ul>
    </div>

    <!-- Lightbox Modal -->
    <div id="lightbox-modal" class="lightbox-modal">
        <div class="lightbox-header">
            <div class="lightbox-actions">
                <button class="lightbox-action-btn" id="lightbox-save-btn" title="Save Vendor">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                    </svg>
                </button>
                <button class="lightbox-action-btn" id="lightbox-share-btn" title="Share">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="18" cy="5" r="3"></circle>
                        <circle cx="6" cy="12" r="3"></circle>
                        <circle cx="18" cy="19" r="3"></circle>
                        <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line>
                        <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>
                    </svg>
                </button>
            </div>
            <span class="lightbox-close">×</span>
        </div>
        <button class="lightbox-nav lightbox-prev">❮</button>
        <div class="lightbox-content">
            <img src="" alt="Lightbox image" id="lightbox-image">
            <div class="lightbox-counter" id="lightbox-counter">1 / 1</div>
        </div>
        <button class="lightbox-nav lightbox-next">❯</button>
    </div>

    <!-- REMOVED: Photo Gallery Modal - Now in standalone vendor-profile.html -->

    <!-- Multi-Step Booking Modal -->
    <div id="booking-modal" class="modal" style="display: none;">
        <div class="modal-content" style="max-width: 1400px; width: 95%; height: 95vh; display: flex; flex-direction: column; overflow: hidden;">
            <div class="modal-header">
                <h3 id="booking-modal-title"><span class="step-number-badge">1</span>Step 1 of 5: Select Categories</h3>
                <span class="close-modal">×</span>
            </div>
            <div class="modal-body">
                <!-- Progress Bar -->
                <div class="booking-progress" style="margin-bottom: 2rem;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem; flex-wrap: wrap; gap: 0.5rem;">
                        <span class="step-indicator active" id="booking-step-indicator-1"><span class="step-number">1</span><span class="step-label">Categories</span></span>
                        <span class="step-indicator" id="booking-step-indicator-2"><span class="step-number">2</span><span class="step-label">Details</span></span>
                        <span class="step-indicator" id="booking-step-indicator-3"><span class="step-number">3</span><span class="step-label">Services</span></span>
                        <span class="step-indicator" id="booking-step-indicator-4"><span class="step-number">4</span><span class="step-label">Vendors</span></span>
                        <span class="step-indicator" id="booking-step-indicator-5"><span class="step-number">5</span><span class="step-label">Requests</span></span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="booking-progress-fill" style="width: 20%;"></div>
                    </div>
                </div>

                <!-- Step 1: Service Selection -->
                <div class="booking-step" id="booking-step-1" style="display: block;">
                    <h4 class="form-section-title"><span class="step-number-badge">1</span>Select Categories</h4>
                    <p style="color: var(--text-light); margin-bottom: 1.5rem;">Choose the service categories you need for your event.</p>
                    
                    <div class="service-categories" id="service-categories">
                        <!-- Service categories will be loaded dynamically with skeleton loading -->
                    </div>
                    
                    <div style="display: flex; justify-content: flex-end; gap: 1rem; margin-top: 2rem;">
                        <button type="button" class="btn btn-primary" id="next-to-booking-step-2" disabled>Next: Event Details</button>
                    </div>
                </div>

                <!-- Step 2: Event Details -->
                <div class="booking-step" id="booking-step-2" style="display: none;">
                    <h4 class="form-section-title"><span class="step-number-badge">2</span>Event Details</h4>
                    <p style="color: var(--text-light); margin-bottom: 1.5rem;">Enter your event information. You will select services in the next step.</p>

                    <div class="form-group" style="margin-bottom: 2rem;">
                        <div class="form-row">
                            <div class="form-col">
                                <div class="form-group">
                                    <label for="event-name">Event Name <span class="required-asterisk">*</span></label>
                                    <input type="text" id="event-name" placeholder="e.g., Sarah & Alex Wedding" required>
                                </div>
                            </div>
                            <div class="form-col">
                                <div class="form-group">
                                    <label for="event-type">Event Type <span class="required-asterisk">*</span></label>
                                    <select id="event-type" required>
                                        <option value="" selected disabled>Select type</option>
                                        <option>Wedding</option>
                                        <option>Engagement</option>
                                        <option>Birthday</option>
                                        <option>Corporate</option>
                                        <option>Conference</option>
                                        <option>Concert</option>
                                        <option>Festival</option>
                                        <option>Baby Shower</option>
                                        <option>Bridal Shower</option>
                                        <option>Anniversary</option>
                                        <option>Other</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-col">
                                <div class="form-group">
                                    <label for="event-date">Event Date <span class="required-asterisk">*</span></label>
                                    <input type="text" id="event-date" placeholder="Select date" required>
                                </div>
                            </div>
                            <div class="form-col">
                                <div class="form-group">
                                    <label for="event-start-time">Event Start Time <span class="required-asterisk">*</span></label>
                                    <input type="time" id="event-start-time" required step="900">
                                </div>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-col">
                                <div class="form-group">
                                    <label for="event-end-time">Event End Time <span class="required-asterisk">*</span></label>
                                    <input type="time" id="event-end-time" required step="900">
                                </div>
                            </div>
                            <div class="form-col">
                                <div class="form-group">
                                    <label for="event-timezone">Timezone <span class="required-asterisk">*</span></label>
                                    <select id="event-timezone" required>
                                        <option value="">Select timezone...</option>
                                        <option value="America/St_Johns">America/St_Johns (NST) GMT -3:30</option>
                                        <option value="America/Halifax">America/Halifax (AST) GMT -4:00</option>
                                        <option value="America/Toronto">America/Toronto (EST) GMT -5:00</option>
                                        <option value="America/Winnipeg">America/Winnipeg (CST) GMT -6:00</option>
                                        <option value="America/Edmonton">America/Edmonton (MST) GMT -7:00</option>
                                        <option value="America/Vancouver">America/Vancouver (PST) GMT -8:00</option>
                                        <option value="America/Anchorage">America/Anchorage (AKST) GMT -9:00</option>
                                        <option value="America/Honolulu">America/Honolulu (HST) GMT -10:00</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-col">
                                <div class="form-group">
                                    <label for="attendee-count">Number of Attendees</label>
                                    <input type="number" id="attendee-count" min="1" value="50">
                                </div>
                            </div>
                            <div class="form-col">
                                <!-- Empty column for layout balance -->
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="event-location">Event Location <span class="required-asterisk">*</span></label>
                            <input type="text" id="event-location" placeholder="Start typing to search for a location..." required autocomplete="off">
                            <div id="location-suggestions" class="location-suggestions" style="display: none;"></div>
                        </div>
                    </div>

                    <!-- Timeline (visible in Step 2) -->
                    <div class="timeline-section" data-timeline="section" style="margin-bottom: 2rem; padding: 1rem; background: var(--card-bg); border: 1px solid var(--border); border-radius: 8px;">
                        <div style="display:flex; justify-content: space-between; align-items:center; margin-bottom: 0.75rem;">
                            <h5 style="margin: 0; color: var(--primary-color);"><i class="fas fa-stream" style="margin-right:0.5rem;"></i>Timeline</h5>
                        </div>
                        <div style="font-size:0.85rem; color: var(--text-light); margin-bottom:0.5rem;">
                            Set event start/end. Timeline auto-updates as you add services in the next step.
                        </div>
                        <div class="timeline-container" data-timeline="container" style="position: relative; height: 180px; background: #fafbff; border: 1px dashed #e2e8f0; border-radius: 8px; overflow: hidden;">
                            <div class="timeline-axis" data-timeline="axis" style="position:absolute; left:0; right:0; top:8px; height:20px; font-size: 11px; color:#64748b;"></div>
                            <div class="timeline-layers" data-timeline="layers" style="position:absolute; left:0; right:0; top:32px; bottom:8px;"></div>
                        </div>
                        <div class="timeline-warning" data-timeline="warning" style="display:none; margin-top:0.5rem; padding:0.5rem; background:#fff7ed; border:1px solid #fdba74; color:#9a3412; border-radius:6px; font-size:0.85rem;"></div>
                        <div style="display:flex; gap:1rem; margin-top:0.5rem; font-size:0.85rem; color:#64748b;">
                            <span><span style="display:inline-block; width:10px; height:10px; background:#c7d2fe; border-radius:2px; margin-right:6px;"></span>Event Window</span>
                            <span><span style="display:inline-block; width:10px; height:10px; background:#bbf7d0; border-radius:2px; margin-right:6px;"></span>Vendor Hours</span>
                            <span><span style="display:inline-block; width:10px; height:10px; background:#fcd34d; border-radius:2px; margin-right:6px;"></span>Service</span>
                            <span><span style="display:inline-block; width:10px; height:10px; background:#fecaca; border-radius:2px; margin-right:6px;"></span>Outside Event</span>
                        </div>
                    </div>

                    <div style="display: flex; justify-content: space-between; gap: 1rem; margin-top: 2rem;">
                        <button type="button" class="btn btn-outline" id="back-to-booking-step-1">Back: Categories</button>
                        <button type="button" class="btn btn-primary" id="next-to-booking-step-3">Next: Select Services</button>
                    </div>
                </div>

                <!-- Step 3: Selecting Service -->
                <div class="booking-step" id="booking-step-3" style="display: none;">
                    <h4 class="form-section-title"><span class="step-number-badge">3</span>Select Services</h4>
                    <p style="color: var(--text-light); margin-bottom: 1.5rem;">Choose from available services and set individual budgets.</p>

                    <div class="form-group" style="margin-bottom: 2rem;">
                        

                        <div id="predefined-services-loading" style="text-align: center; padding: 2rem; display: none;">
                            <div class="spinner" style="margin: 0 auto;"></div>
                        </div>

                        <div id="booking-predefined-services-container" style="display: none;">
                            <div id="service-selection-dropdowns"></div>
                            <div id="selected-services-list-container" style="margin-top: 1.5rem;"></div>
                        </div>

                        <div id="no-services-message" style="text-align: center; padding: 2rem; color: var(--text-light); display: none;">
                            <p>No services available for your selected categories. Please go back and select different categories.</p>
                        </div>
                    </div>

                    <!-- Timeline (visible in Step 3) -->
                    <div class="timeline-section" data-timeline="section" style="margin-bottom: 2rem; padding: 1rem; background: var(--card-bg); border: 1px solid var(--border); border-radius: 8px;">
                        <div style="display:flex; justify-content: space-between; align-items:center; margin-bottom: 0.75rem;">
                            <h5 style="margin: 0; color: var(--primary-color);"><i class="fas fa-stream" style="margin-right:0.5rem;"></i>Timeline</h5>
                        </div>
                        <div style="font-size:0.85rem; color: var(--text-light); margin-bottom:0.5rem;">
                            Adjust service durations and times as needed. Conflicts will be highlighted.
                        </div>
                        <div class="timeline-container" data-timeline="container" style="position: relative; height: 180px; background: #fafbff; border: 1px dashed #e2e8f0; border-radius: 8px; overflow: hidden;">
                            <div class="timeline-axis" data-timeline="axis" style="position:absolute; left:0; right:0; top:8px; height:20px; font-size: 11px; color:#64748b;"></div>
                            <div class="timeline-layers" data-timeline="layers" style="position:absolute; left:0; right:0; top:32px; bottom:8px;"></div>
                        </div>
                        <div class="timeline-warning" data-timeline="warning" style="display:none; margin-top:0.5rem; padding:0.5rem; background:#fff7ed; border:1px solid #fdba74; color:#9a3412; border-radius:6px; font-size:0.85rem;"></div>
                        <div style="display:flex; gap:1rem; margin-top:0.5rem; font-size:0.85rem; color:#64748b;">
                            <span><span style="display:inline-block; width:10px; height:10px; background:#c7d2fe; border-radius:2px; margin-right:6px;"></span>Event Window</span>
                            <span><span style="display:inline-block; width:10px; height:10px; background:#bbf7d0; border-radius:2px; margin-right:6px;"></span>Vendor Hours</span>
                            <span><span style="display:inline-block; width:10px; height:10px; background:#fcd34d; border-radius:2px; margin-right:6px;"></span>Service</span>
                            <span><span style="display:inline-block; width:10px; height:10px; background:#fecaca; border-radius:2px; margin-right:6px;"></span>Outside Event</span>
                        </div>
                    </div>

                    <div style="display: flex; justify-content: space-between; gap: 1rem; margin-top: 2rem;">
                        <button type="button" class="btn btn-outline" id="back-to-booking-step-2">Back: Event Details</button>
                        <button type="button" class="btn btn-primary" id="find-vendors-btn" disabled>Find Matching Vendors</button>
                    </div>
                </div>

                <!-- Step 4: Vendor Matching -->
                <div class="booking-step" id="booking-step-4" style="display: none;">
                    <!-- TWO-COLUMN LAYOUT: Left scrolls, Right map is fixed -->
                    <div style="display: flex; gap: 1.5rem; position: relative;">
                        
                        <!-- LEFT COLUMN: Scrollable vendor content (60% width) -->
                        <div style="width: 60%; flex-shrink: 0;">
                        <h4 class="form-section-title"><span class="step-number-badge">4</span>Available Vendors</h4>
                        <p style="color: var(--text-light); margin-bottom: 1.5rem;">Select vendors that match your requirements. View nearby vendors on the map and browse detailed options below.</p>
                        
                        <!-- Search Criteria Summary -->
                        <div id="search-criteria-summary" class="search-criteria-summary" style="background: #f8faff; border: 1px solid #e3f2fd; border-radius: 12px; padding: 1rem; margin-bottom: 1.5rem; display: none;">
                            <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 0.75rem;">
                                <h6 style="margin: 0; color: var(--text); font-weight: 600;">Search Criteria</h6>
                                <button type="button" class="btn btn-sm btn-outline" id="adjust-filters-btn" style="padding: 0.4rem 0.8rem; font-size: 0.8rem; border-radius: 6px;">
                                    <i class="fas fa-edit" style="margin-right: 0.3rem;"></i>Adjust Filters
                                </button>
                            </div>
                            <div id="criteria-details" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 0.75rem; font-size: 0.9rem;">
                                <!-- Criteria details will be populated here -->
                            </div>
                        </div>
                        
                        <div id="vendor-loading" style="display: none; text-align: center; padding: 2rem;">
                            <div class="loading-spinner"></div>
                            <p>Finding matching vendors for each service...</p>
                        </div>
                        
                        <!-- Vendor Filters -->
                        <div class="vendor-filters" style="flex-shrink: 0; margin-bottom: 1rem; display: flex; gap: 1rem; flex-wrap: wrap; align-items: center;">
                            <select id="vendor-sort" class="form-control" style="width: auto; display: inline-block;">
                                <option value="distance">Sort by Distance</option>
                                <option value="price">Sort by Price</option>
                                <option value="rating">Sort by Rating</option>
                            </select>
                            <select id="vendor-price-filter" class="form-control" style="width: auto; display: inline-block;">
                                <option value="">All Price Ranges</option>
                                <option value="$">$ - Inexpensive</option>
                                <option value="$$">$$ - Moderate</option>
                                <option value="$$$">$$$ - Expensive</option>
                                <option value="$$$$">$$$$ - Luxury</option>
                            </select>
                        </div>
                        
                        <!-- Service Tabs -->
                        <div id="service-tabs-container" style="display: none; flex-shrink: 0; margin-bottom: 1rem; position: relative;">
                            <button id="tabs-scroll-left" class="tab-nav-btn tab-nav-left" style="display: none;" onclick="scrollTabs('left')">
                                <i class="fas fa-chevron-left"></i>
                            </button>
                            <div id="service-tabs" class="service-tabs" style="display: flex; gap: 0.5rem; margin-bottom: 1rem; overflow-x: auto; scroll-behavior: smooth; scrollbar-width: none; -ms-overflow-style: none;">
                                <!-- Service tabs will be populated here -->
                            </div>
                            <button id="tabs-scroll-right" class="tab-nav-btn tab-nav-right" style="display: none;" onclick="scrollTabs('right')">
                                <i class="fas fa-chevron-right"></i>
                            </button>
                        </div>
                        
                        <!-- Vendor Cards Container -->
                        <div id="vendor-cards-container" style="display: flex; flex-direction: column;">
                            <div id="vendor-horizontal-cards" class="vendor-horizontal-container" style="box-sizing: border-box;">
                                <!-- Horizontal vendor cards will be populated here -->
                                <div style="padding: 1rem; background: #f8faff; border-radius: 12px; text-align: center;">
                                    <i class="fas fa-search" style="font-size: 2rem; color: #ccc; margin-bottom: 0.5rem;"></i>
                                    <p style="color: #666; margin: 0;">Search for vendors to see options here</p>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Trending Vendors Section -->
                        <div id="trending-vendors-section" style="display: block; margin-top: 2rem;">
                        <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 12px; padding: 1.25rem;">
                            <h3 style="color: white; display: flex; align-items: center; gap: 0.5rem; margin: 0 0 1rem 0; font-size: 1.25rem;">
                                <i class="fas fa-fire" style="color: #ff6b6b;"></i>
                                Trending Right Now
                                <span style="font-size: 0.875rem; opacity: 0.9; margin-left: auto;">Most Viewed This Week</span>
                            </h3>
                            <div id="trending-vendors-carousel-wrapper" style="position: relative;">
                                <button class="trending-carousel-nav trending-carousel-prev" id="trending-prev" aria-label="Previous vendor">
                                    <i class="fas fa-chevron-left"></i>
                                </button>
                                <button class="trending-carousel-nav trending-carousel-next" id="trending-next" aria-label="Next vendor">
                                    <i class="fas fa-chevron-right"></i>
                                </button>
                                <div id="trending-vendors-carousel" style="display: flex; gap: 1rem; overflow-x: auto; scrollbar-width: thin; scrollbar-color: rgba(255,255,255,0.3) transparent; padding-bottom: 0.5rem;">
                                    <!-- Trending vendor cards will be populated here -->
                                    <div style="text-align: center; color: rgba(255,255,255,0.8); padding: 2rem; width: 100%; font-size: 0.9rem;">
                                        <i class="fas fa-spinner fa-spin" style="margin-right: 0.5rem;"></i>Loading trending vendors...
                                    </div>
                                </div>
                            </div>
                        </div>
                        </div>
                        
                        <div id="vendor-results" class="vendor-sections-container" style="display: none;">
                            <!-- Legacy vendor sections will be populated here -->
                        </div>
                        
                        <div id="no-vendors-found" style="display: none; text-align: center; padding: 2rem;">
                            <h5>No vendors found</h5>
                            <p style="color: var(--text-light);">Try adjusting your budget or service requirements.</p>
                            <button type="button" class="btn btn-outline" id="adjust-criteria-btn">Adjust Criteria</button>
                        </div>
                        
                        <div style="display: flex; justify-content: space-between; gap: 1rem; margin-top: 2rem;">
                            <button type="button" class="btn btn-outline" id="back-to-booking-step-3">Back: Select Services</button>
                            <div style="display: flex; align-items: center; gap: 1rem;">
                                <span id="selected-vendor-count" style="color: #6b7280; font-size: 0.9rem;">0 vendors selected</span>
                                <button type="button" class="btn btn-primary" id="send-requests-btn" disabled>Send Requests</button>
                            </div>
                        </div>
                        </div>
                        <!-- End of left column -->
                        
                        <!-- RIGHT COLUMN: Sticky/Fixed Map (40% width) -->
                        <div style="width: 40%; flex-shrink: 0; position: sticky; top: 80px; align-self: flex-start; height: calc(100vh - 100px);">
                            <div style="width: 100%; height: 100%; background: white; border: 1px solid #e0e0e0; border-radius: 12px; box-shadow: 0 2px 12px rgba(0,0,0,0.1); overflow: hidden;">
                                <div id="vendor-map-container" style="display: block; width: 100%; height: 100%;">
                                    <div style="position: relative; width: 100%; height: 100%;">
                                        <div id="vendor-map" style="width: 100%; height: 100%; border-radius: 12px;"></div>
                                        
                                        <!-- Floating map controls positioned on top of the map -->
                                        <div class="map-controls-overlay" style="position: absolute; top: 10px; right: 10px; display: flex; gap: 8px; z-index: 1000;">
                                            <button type="button" class="btn btn-sm" id="focus-event-location" 
                                                    style="background: white; border: 1px solid #ddd; color: #333; padding: 8px 12px; border-radius: 6px; font-size: 0.8rem; box-shadow: 0 2px 8px rgba(0,0,0,0.15); cursor: pointer; display: flex; align-items: center; gap: 4px;">
                                                <i class="fas fa-crosshairs"></i> Focus Event
                                            </button>
                                            <button type="button" class="btn btn-sm" id="show-all-vendors"
                                                    style="background: white; border: 1px solid #ddd; color: #333; padding: 8px 12px; border-radius: 6px; font-size: 0.8rem; box-shadow: 0 2px 8px rgba(0,0,0,0.15); cursor: pointer; display: flex; align-items: center; gap: 4px;">
                                                <i class="fas fa-expand"></i> Show All
                                            </button>
                                        </div>
                                        
                                        <!-- Map legend at bottom -->
                                        <div class="map-legend" style="position: absolute; bottom: 20px; left: 20px; background: white; padding: 0.75rem; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.15); display: flex; flex-direction: column; gap: 0.5rem; font-size: 0.85rem; z-index: 1000;">
                                            <div style="display: flex; align-items: center; gap: 0.5rem;"><i class="fas fa-map-marker-alt" style="color: #e74c3c;"></i> Event Location</div>
                                            <div style="display: flex; align-items: center; gap: 0.5rem;"><i class="fas fa-store" style="color: #3498db;"></i> Available Vendors</div>
                                            <div style="display: flex; align-items: center; gap: 0.5rem;"><i class="fas fa-check-circle" style="color: #27ae60;"></i> Selected Vendors</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- End of right column (map) -->
                        
                    </div>
                    <!-- End of two-column layout -->
                </div>

                <!-- Step 5: Request Submission -->
                <div class="booking-step" id="booking-step-5" style="display: none;">
                    <h4 class="form-section-title"><span class="step-number-badge">5</span>Booking Requests</h4>
                    <p style="color: var(--text-light); margin-bottom: 1.5rem;">Review your selected vendors and their services before sending requests.</p>
                    
                    <div class="selected-vendors-summary" id="selected-vendors-summary">
                        <!-- Selected vendors summary will be populated here -->
                    </div>
                    
                    <div class="request-summary" id="request-summary" style="display: none;">
                        <!-- Request summary will be populated here -->
                    </div>
                    
                    <div style="display: flex; justify-content: flex-start; gap: 1rem; margin-top: 2rem;">
                        <button type="button" class="btn btn-outline" id="back-to-booking-step-4">Back: Vendors</button>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <!-- Duplicate Google Maps API script removed - using the one in head -->

    <!-- Facebook SDK -->
    <script>
      window.fbAsyncInit = function() {
        FB.init({
          appId: 'YOUR_FACEBOOK_APP_ID',
          cookie: true,
          xfbml: true,
          version: 'v18.0'
        });
      };
    </script>
    <script async="" defer="" crossorigin="anonymous" src="https://connect.facebook.net/en_US/sdk.js"></script>

    <!-- Invoice Modal -->
    <div id="invoice-modal" class="modal" style="display:none;">
      <div class="modal-content" style="max-width: 920px; width: 95%; display:flex; flex-direction:column; max-height: 90vh;">
        <div class="modal-header">
          <h3 id="invoice-modal-title">Invoice</h3>
          <span class="close-modal" id="invoice-close-btn">×</span>
        </div>
        <div class="modal-body" style="overflow:auto;">
          <div id="invoice-print-area" style="background:white; padding: 24px; border-radius: 8px;">
            <div id="invoice-loading" style="text-align:center; color:#6b7280; padding: 24px;">
              <div class="spinner" style="margin: 0 auto;"></div>
            </div>
            <div id="invoice-content" style="display:none;"></div>
          </div>
        </div>
        <div class="modal-footer" style="display:flex; gap:.5rem; justify-content:flex-end; padding: 12px 16px; border-top:1px solid var(--border);">
          <button class="btn btn-outline" id="invoice-refresh-btn">Refresh</button>
          <button class="btn btn-primary" id="invoice-download-btn"><i class="fas fa-file-download" style="margin-right:8px;"></i>Download PDF</button>
        </div>
      </div>
    </div>

    <!-- Booking Details Modal -->
    <div id="booking-details-modal" class="modal" style="display:none;">
      <div class="modal-content" style="max-width: 760px; width: 95%; display:flex; flex-direction:column; max-height: 90vh;">
        <div class="modal-header">
          <h3 id="booking-details-title">Event Details</h3>
          <div id="booking-details-status-slot" style="margin-left:auto; display:flex; align-items:center; gap:8px; position:relative;"></div>
          <span class="close-modal" id="booking-details-close">×</span>
        </div>
        <div class="modal-body" style="overflow:auto;">
          <div id="booking-details-content"></div>
        </div>
        <div class="modal-footer" style="display:flex; gap:.5rem; justify-content:flex-end; padding: 12px 16px; border-top:1px solid var(--border);">
          <button class="btn-accept" id="booking-details-accept-btn" style="display:none;">Accept</button>
          <button class="btn-decline" id="booking-details-decline-btn" style="display:none;">Decline</button>
          <button class="btn btn-primary" id="booking-details-reply-btn">Reply</button>
          <button class="btn btn-outline" id="booking-details-close-btn">Close</button>
        </div>
      </div>
    </div>

    <!-- Main Application Script -->

    <!-- Messaging Widget -->
    <div id="messaging-widget" class="messaging-widget">
        <!-- Chat Button -->
        <div id="chat-button" class="chat-button">
            <i class="fas fa-comments"></i>
            <span class="chat-button-text">Messages</span>
            <span id="widget-message-badge" class="widget-message-badge" style="display: none;">0</span>
        </div>

        <!-- Widget Container -->
        <div id="widget-container" class="widget-container" style="display: none;">
            <!-- Widget Header -->
            <div class="widget-header">
                <h3>Messages</h3>
                <button id="widget-close" class="widget-close">&times;</button>
            </div>

            <!-- Conversations List -->
            <div id="conversations-view" class="widget-view">
                <div class="conversations-header">
                    <input type="text" id="conversation-search" placeholder="Search conversations..." class="conversation-search">
                </div>
                <div id="conversations-list" class="conversations-list">
                    <div class="loading-state"><div class="spinner" style="margin: 0 auto;"></div></div>
                </div>
            </div>

            <!-- Chat View -->
            <div id="chat-view" class="widget-view" style="display: none;">
                <div class="chat-header">
                    <button id="back-to-conversations" class="back-button">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <div class="chat-user-info">
                        <img id="chat-user-avatar" src="" alt="" class="chat-user-avatar">
                        <span id="chat-user-name" class="chat-user-name"></span>
                    </div>
                </div>
                <div id="chat-messages-container" class="chat-messages-container">
                    <div style="text-align: center; padding: 2rem;"><div class="spinner" style="margin: 0 auto;"></div></div>
                </div>
                <div class="chat-input-container">
                    <input type="text" id="widget-chat-input" placeholder="Type a message..." class="widget-chat-input">
                    <button id="widget-send-button" class="widget-send-button">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Multi-column Footer -->
    <footer class="vv-footer" aria-label="Site footer">
        <div class="vv-wrap">
            <div class="vv-brand">
                <div class="vv-logo">
                    <img src="planhive_logo.svg" alt="PlanHive" style="height: 45px; width: auto;">
                </div>
                <div class="vv-tagline">Get the app and plan on the go</div>
                <div class="vv-badges">
                    <a class="vv-badge" href="#" onclick="event.preventDefault();" aria-label="Get it on Google Play">
                        <i class="fab fa-google-play"></i>
                        <span>Google Play</span>
                    </a>
                    <a class="vv-badge" href="#" onclick="event.preventDefault();" aria-label="Download on the App Store">
                        <i class="fab fa-apple"></i>
                        <span>App Store</span>
                    </a>
                </div>
                <div style="color: var(--text-light); font-size: 0.9rem;">Â© 2025 PlanHive. All rights reserved.</div>
            </div>

            <div class="vv-col">
                <h4>Company</h4>
                <ul class="vv-links">
                    <li><a href="#" onclick="event.preventDefault();">Home</a></li>
                    <li><a href="#" onclick="event.preventDefault();">Articles</a></li>
                    <li><a href="#" onclick="event.preventDefault();">Submit to Blog</a></li>
                    <li><a href="#" onclick="event.preventDefault();">Are You a Vendor?</a></li>
                    <li><a href="#" onclick="event.preventDefault();">Meet the Team</a></li>
                    <li><a href="#" onclick="event.preventDefault();">Privacy Policy</a></li>
                    <li><a href="#" onclick="event.preventDefault();">Terms of Use</a></li>
                </ul>
            </div>

            <div class="vv-col">
                <h4>Vendors</h4>
                <ul class="vv-links">
                    <li><a href="#" onclick="event.preventDefault();">Venues</a></li>
                    <li><a href="#" onclick="event.preventDefault();">Caterers</a></li>
                    <li><a href="#" onclick="event.preventDefault();">Event Planners</a></li>
                    <li><a href="#" onclick="event.preventDefault();">Photographers</a></li>
                    <li><a href="#" onclick="event.preventDefault();">Videographers</a></li>
                    <li><a href="#" onclick="event.preventDefault();">Live Music &amp; DJs</a></li>
                    <li><a href="#" onclick="event.preventDefault();">DÃ©cor &amp; Rentals</a></li>
                </ul>
            </div>

            <div class="vv-col">
                <h4>Connect With Us</h4>
                <div class="vv-social">
                    <a href="#" onclick="event.preventDefault();" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                    <a href="#" onclick="event.preventDefault();" aria-label="X"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg></a>
                    <a href="#" onclick="event.preventDefault();" aria-label="Pinterest"><i class="fab fa-pinterest-p"></i></a>
                    <a href="#" onclick="event.preventDefault();" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                    <a href="#" onclick="event.preventDefault();" aria-label="TikTok"><i class="fab fa-tiktok"></i></a>
                </div>
                <div class="vv-cta">
                    <a href="#" onclick="event.preventDefault();">Advertise with Us!</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Mobile Filter Overlay Panel -->
    <div class="mobile-filter-overlay" id="mobile-filter-overlay">
        <div class="mobile-filter-panel">
            <div class="mobile-filter-header">
                <h3>Filters</h3>
                <button class="mobile-filter-close" id="mobile-filter-close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="mobile-filter-content" id="mobile-filter-content">
                <!-- Filter content will be cloned from sidebar -->
            </div>
        </div>
    </div>


    <script src="index_mobile-script.js?v=1"></script>
</body>
</html>

